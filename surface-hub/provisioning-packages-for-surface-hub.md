---
title: Создание пакетов подготовки (Surface Hub)
description: В Windows10 параметры, использующие реестр или поставщика служб конфигурации (CSP), можно настроить с помощью пакетов подготовки.
ms.assetid: 8AA25BD4-8A8F-4B95-9268-504A49BA5345
ms.reviewer: ''
manager: laurawi
keywords: добавление сертификата, пакет подготовки
ms.prod: surface-hub
ms.sitesec: library
author: dansimp
ms.author: dansimp
ms.topic: article
ms.date: 03/16/2019
ms.localizationpriority: medium
ms.openlocfilehash: 5e0714d284cc5c8207633719ec8fb52cec9f95cb
ms.sourcegitcommit: a4f8d271b1372321c3b45fc5a7a29703976964a4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/20/2021
ms.locfileid: "11576989"
---
# <a name="create-provisioning-packages-surface-hub"></a><span data-ttu-id="fcd4b-104">Создание пакетов подготовки (Surface Hub)</span><span class="sxs-lookup"><span data-stu-id="fcd4b-104">Create provisioning packages (Surface Hub)</span></span>

<span data-ttu-id="fcd4b-105">В этом разделе объясняется, как создать пакет подготовки с помощью конструктора конфигураций Windows и применить его к устройствам Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-105">This topic explains how to create a provisioning package using the Windows Configuration Designer, and apply it to Surface Hub devices.</span></span> <span data-ttu-id="fcd4b-106">При работе с Surface Hub пакеты подготовки можно использовать для добавления сертификатов, установки приложений универсальной платформы Windows (UWP) и настройки политик и параметров.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-106">For Surface Hub, you can use provisioning packages to add certificates, install Universal Windows Platform (UWP) apps, and customize policies and settings.</span></span>

<span data-ttu-id="fcd4b-107">Применить пакет подготовки можно с помощью USB-накопителя при первом запуске или с использованием приложения **Параметры**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-107">You can apply a provisioning package using a USB stick during first-run setup, or through the **Settings** app.</span></span> 


## <a name="advantages"></a><span data-ttu-id="fcd4b-108">Преимущества</span><span class="sxs-lookup"><span data-stu-id="fcd4b-108">Advantages</span></span>
-   <span data-ttu-id="fcd4b-109">Быстрая настройка устройств без использования поставщика управления мобильными устройствами (MDM).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-109">Quickly configure devices without using a mobile device management (MDM) provider.</span></span>

-   <span data-ttu-id="fcd4b-110">Не требуется подключение к сети.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-110">No network connectivity required.</span></span>

-   <span data-ttu-id="fcd4b-111">Простота применения.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-111">Simple to apply.</span></span>

[<span data-ttu-id="fcd4b-112">Узнайте о преимуществах и возможностях использовании пакетов подготовки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-112">Learn more about the benefits and uses of provisioning packages.</span></span>](https://technet.microsoft.com/itpro/windows/configure/provisioning-packages)


## <a name="requirements"></a><span data-ttu-id="fcd4b-113">Требования</span><span class="sxs-lookup"><span data-stu-id="fcd4b-113">Requirements</span></span> 

<span data-ttu-id="fcd4b-114">Чтобы создать и применить пакет подготовки в Surface Hub, потребуется следующее:</span><span class="sxs-lookup"><span data-stu-id="fcd4b-114">To create and apply a provisioning package to a Surface Hub, you'll need the following:</span></span>

-   <span data-ttu-id="fcd4b-115">Конструктор конфигураций Windows, который может быть установлен из Microsoft Store или из комплекта средств для развертывания и оценки Windows10 (ADK).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-115">Windows Configuration Designer, which can be installed from Microsoft Store or from the Windows 10 Assessment and Deployment Kit (ADK).</span></span> [<span data-ttu-id="fcd4b-116">Узнайте, как установить конструктор конфигураций Windows.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-116">Learn how to install Windows Configuration Designer.</span></span>](https://technet.microsoft.com/itpro/windows/configure/provisioning-install-icd)
-   <span data-ttu-id="fcd4b-117">USB-накопитель.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-117">A USB stick.</span></span>
-   <span data-ttu-id="fcd4b-118">Если пакет применяется с помощью приложения **Параметры**, понадобятся учетные данные администратора устройства.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-118">If you apply the package using the **Settings** app, you'll need device admin credentials.</span></span>

<span data-ttu-id="fcd4b-119">Вы создадите пакет подготовки на ПК с Windows10, сохраните пакет на USB-диск и развернете его в своем экземпляре Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-119">You create the provisioning package on a PC running Windows 10, save the package to a USB drive, and then deploy it to your Surface Hub.</span></span>


## <a name="supported-items-for-surface-hub-provisioning-packages"></a><span data-ttu-id="fcd4b-120">Поддерживаемые элементы для пакетов подготовки Surface Hub</span><span class="sxs-lookup"><span data-stu-id="fcd4b-120">Supported items for Surface Hub provisioning packages</span></span>

<span data-ttu-id="fcd4b-121">С помощью мастера **подготовки устройств Surface Hub** можно:</span><span class="sxs-lookup"><span data-stu-id="fcd4b-121">Using the **Provision Surface Hub devices** wizard, you can:</span></span>

- <span data-ttu-id="fcd4b-122">зарегистрироваться в Active Directory, Azure Active Directory или MDM;</span><span class="sxs-lookup"><span data-stu-id="fcd4b-122">Enroll in Active Directory, Azure Active Directory, or MDM</span></span> 
- <span data-ttu-id="fcd4b-123">создать учетную запись администратора устройства;</span><span class="sxs-lookup"><span data-stu-id="fcd4b-123">Create an device administrator account</span></span> 
- <span data-ttu-id="fcd4b-124">добавить приложения и сертификаты;</span><span class="sxs-lookup"><span data-stu-id="fcd4b-124">Add applications and certificates</span></span>
- <span data-ttu-id="fcd4b-125">настроить параметры прокси-сервера;</span><span class="sxs-lookup"><span data-stu-id="fcd4b-125">Configure proxy settings</span></span>
- <span data-ttu-id="fcd4b-126">добавить файл конфигурации Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-126">Add a Surface Hub configuration file</span></span>

>[!WARNING]
><span data-ttu-id="fcd4b-127">Необходимо запустить конструктор конфигураций Windows в Windows10 для настройки регистрации Azure Active Directory с помощью мастера.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-127">You must run Windows Configuration Designer on Windows 10 to configure Azure Active Directory enrollment using the wizard.</span></span>

<span data-ttu-id="fcd4b-128">С помощью редактора расширенной подготовки можно добавить эти элементы в пакеты подготовки для Surface Hub:</span><span class="sxs-lookup"><span data-stu-id="fcd4b-128">Using the advanced provisioning editor, you can add these items to provisioning packages for Surface Hub:</span></span>

- <span data-ttu-id="fcd4b-129">**Политики**— Surface Hub поддерживает подмножество политик в разделе [Поставщик служб конфигурации политик](https://msdn.microsoft.com/library/windows/hardware/dn904962.aspx#surfacehubpolicies).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-129">**Policies** - Surface Hub supports a subset of the policies in the [Policy configuration service provider](https://msdn.microsoft.com/library/windows/hardware/dn904962.aspx#surfacehubpolicies).</span></span> 
- <span data-ttu-id="fcd4b-130">**Параметры**— в разделе [Поставщик служб конфигурации политик SurfaceHub](https://msdn.microsoft.com/library/windows/hardware/mt608323.aspx) можно настроить любые параметры.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-130">**Settings** - You can configure any setting in the [SurfaceHub configuration service provider](https://msdn.microsoft.com/library/windows/hardware/mt608323.aspx).</span></span>

>[!TIP]
> <span data-ttu-id="fcd4b-131">Используйте мастер, чтобы создать пакет с общими параметрами, затем переключитесь в расширенный редактор, чтобы добавить другие параметры.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-131">Use the wizard to create a package with the common settings, then switch to the advanced editor to add other settings.</span></span>
>
>![открытие расширенного редактора](images/icd-simple-edit.png)

## <a name="use-the-surface-hub-provisioning-wizard"></a><span data-ttu-id="fcd4b-133">Использование мастера подготовки Surface Hub</span><span class="sxs-lookup"><span data-stu-id="fcd4b-133">Use the Surface Hub provisioning wizard</span></span>

<span data-ttu-id="fcd4b-134">После [установки конструктора конфигураций Windows](https://technet.microsoft.com/itpro/windows/configure/provisioning-install-icd) можно создать пакет подготовки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-134">After you [install Windows Configuration Designer](https://technet.microsoft.com/itpro/windows/configure/provisioning-install-icd), you can create a provisioning package.</span></span>

### <a name="create-the-provisioning-package"></a><span data-ttu-id="fcd4b-135">Создание пакета подготовки</span><span class="sxs-lookup"><span data-stu-id="fcd4b-135">Create the provisioning package</span></span> 

1. <span data-ttu-id="fcd4b-136">Откройте конструктор конфигураций Windows.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-136">Open Windows Configuration Designer:</span></span>
   - <span data-ttu-id="fcd4b-137">На начальном экране или на панели поиска меню "Пуск" введите "Конструктор конфигураций Windows" и щелкните ярлык конструктора конфигураций Windows</span><span class="sxs-lookup"><span data-stu-id="fcd4b-137">From either the Start screen or Start menu search, type 'Windows Configuration Designer' and click on the Windows Configuration Designer shortcut,</span></span> 
    
     <span data-ttu-id="fcd4b-138">или</span><span class="sxs-lookup"><span data-stu-id="fcd4b-138">or</span></span>
    
   - <span data-ttu-id="fcd4b-139">если вы установили конструктор конфигураций Windows из ADK, перейдите к `C:\Program Files (x86)\Windows Kits\10\Assessment and Deployment Kit\Imaging and Configuration Designer\x86` (на компьютере x64) или `C:\Program Files\Windows Kits\10\Assessment and Deployment Kit\Imaging and Configuration Designer\x86\ICD.exe` (на компьютере x86), а затем дважды щелкните **ICD.exe**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-139">If you installed Windows Configuration Designer from the ADK, navigate to `C:\Program Files (x86)\Windows Kits\10\Assessment and Deployment Kit\Imaging and Configuration Designer\x86` (on an x64 computer) or `C:\Program Files\Windows Kits\10\Assessment and Deployment Kit\Imaging and Configuration Designer\x86\ICD.exe` (on an x86 computer), and then double-click **ICD.exe**.</span></span>

2. <span data-ttu-id="fcd4b-140">Щелкните элемент **Подготовка устройств Surface Hub**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-140">Click **Provision Surface Hub devices**.</span></span>

3. <span data-ttu-id="fcd4b-141">Назначьте имя проекту и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-141">Name your project and click **Next**.</span></span>

### <a name="configure-settings"></a><span data-ttu-id="fcd4b-142">Настройка параметров</span><span class="sxs-lookup"><span data-stu-id="fcd4b-142">Configure settings</span></span>

<table>
<tr><td style="width:45%" valign="top"><img src="images/one.png" alt="step one"/> <img src="images/add-certificates.png" alt="add certificates"/></br></br><span data-ttu-id="fcd4b-143">Для подготовки устройства с сертификатом щелкните <strong>Добавление сертификата</strong>.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-143">To provision the device with a certificate, click <strong>Add a certificate</strong>.</span></span> <span data-ttu-id="fcd4b-144">Введите имя сертификата, а затем найдите и выберите сертификат для использования.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-144">Enter a name for the certificate, and then browse to and select the certificate to be used.</span></span></td><td><img src="images/add-certificates-details.png" alt="add a certificate"/></td></tr> 
<tr><td style="width:45%" valign="top"><img src="images/two.png" alt="step two"/>  <img src="images/proxy.png" alt="configure proxy settings"/></br></br><span data-ttu-id="fcd4b-145">Выберите <strong>Да</strong> или <strong>Нет</strong> для параметров прокси-сервера.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-145">Toggle <strong>Yes</strong> or <strong>No</strong> for proxy settings.</span></span> <span data-ttu-id="fcd4b-146">Surface Hub по умолчанию настроен на автоматическое определение параметров прокси-сервера, поэтому выберите <strong>Нет</strong>, если вам необходим этот параметр.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-146">The default configuration for Surface Hub is to automatically detect proxy settings, so you can select <strong>No</strong> if that is the setting that you want.</span></span> <span data-ttu-id="fcd4b-147">Тем не менее, если ранее инфраструктура требовала использование прокси-сервера, но теперь этого не требует, можно восстановить параметры по умолчанию для устройств Surface Hub с помощью пакета подготовки. Для этого выберите <strong>Да</strong> и <strong>Автоматически определять параметры</strong>.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-147">However, if your infrastructure previously required using a proxy server and has changed to not require a proxy server, you can use a provisioning package to revert your Surface Hub devices to the default settings by selecting <strong>Yes</strong> and <strong>Automatically detect settings</strong>.</span></span> </br></br><span data-ttu-id="fcd4b-148">Для автоматического определения параметров прокси-сервера необходимо выбрать <strong>Да</strong>. Чтобы настроить параметры вручную, введите URL-адрес в сценарий настройки или адрес статического прокси-сервера.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-148">If you toggle <strong>Yes</strong>, you can select to automatically detect proxy settings, or you can manually configure the settings by entering a URL to a setup script, or a static proxy server address.</span></span> <span data-ttu-id="fcd4b-149">Можно также определить, нужно ли использовать прокси-сервер для локальных адресов, и указать исключения (адреса, к которым Surface Hub должен подключаться непосредственно без использования прокси-сервера).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-149">You can also identify whether to use the proxy server for local addresses, and enter exceptions (addresses that Surface Hub should connect to directly without using the proxy server).</span></span>  </td><td><img src="images/proxy-details.png" alt="proxy configuration details"/></td></tr>
<tr><td style="width:45%" valign="top"><img src="images/three.png" alt="step three"/>  <img src="images/set-up-device-admins.png" alt="device admins"/></br></br><span data-ttu-id="fcd4b-150">Можно зарегистрировать устройство в Active Directory и указать группу безопасности, чтобы использовать приложение «Параметры», зарегистрироваться в Azure Active Directory, чтобы разрешить глобальным администраторам использовать приложение «Параметры», или создать учетную запись локального администратора на устройстве.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-150">You can enroll the device in Active Directory and specify a security group to use the Settings app, enroll in Azure Active Directory to allow global admins to use the Settings app, or create a local administrator account on the device.</span></span></br></br><span data-ttu-id="fcd4b-151">Для регистрации устройства в Active Directory введите учетные данные для учетной записи пользователя с минимальными правами, чтобы подключить устройство к домену, и укажите группу безопасности, чтобы использовать учетные данные администратора на Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-151">To enroll the device in Active Directory, enter the credentials for a least-privileged user account to join the device to the domain, and specify the security group to have admin credentials on Surface Hub.</span></span> <span data-ttu-id="fcd4b-152">Если пакет подготовки, регистрирующий устройство в Active Directory, будет применяться к Surface Hub, который был сброшен, учетная запись домена может использоваться, только если она принадлежит администратору домена или если это учетная запись, с помощью которой был изначально установлен Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-152">If a provisioning package that enrolls a device in Active Directory is going to be applied to a Surface Hub that was reset, the same domain account can only be used if the account listed is a domain administrator or is the same account that set up the Surface Hub initially.</span></span> <span data-ttu-id="fcd4b-153">В противном случае необходимо использовать другую учетную запись домена в пакете подготовки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-153">Otherwise, a different domain account must be used in the provisioning package.</span></span></br></br><span data-ttu-id="fcd4b-154">Прежде чем использовать мастер конструктора конфигураций Windows для настройки массовой регистрации в Azure AD, <a href="https://docs.microsoft.com/azure/active-directory/active-directory-azureadjoin-setup" data-raw-source="[set up Azure AD join in your organization](https://docs.microsoft.com/azure/active-directory/active-directory-azureadjoin-setup)">настройте присоединение к Azure AD в вашей организации</a>.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-154">Before you use a Windows Configuration Designer wizard to configure bulk Azure AD enrollment, <a href="https://docs.microsoft.com/azure/active-directory/active-directory-azureadjoin-setup" data-raw-source="[set up Azure AD join in your organization](https://docs.microsoft.com/azure/active-directory/active-directory-azureadjoin-setup)">set up Azure AD join in your organization</a>.</span></span> <span data-ttu-id="fcd4b-155">Параметр <strong>Максимальное количество устройств на одного пользователя</strong> в клиенте Azure AD определяет, сколько раз можно использовать массовый маркер, полученный в мастере.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-155">The <strong>maximum number of devices per user</strong> setting in your Azure AD tenant determines how many times the bulk token that you get in the wizard can be used.</span></span> <span data-ttu-id="fcd4b-156">Для регистрации устройства в Azure AD, выберите соответствующий вариант и введите понятное имя для массового маркера, полученного с помощью мастера.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-156">To enroll the device in Azure AD, select that option and enter a friendly name for the bulk token you will get using the wizard.</span></span> <span data-ttu-id="fcd4b-157">Задайте дату окончания срока действия маркера (максимальное значение — 30 дней с даты получения маркера).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-157">Set an expiration date for the token (maximum is 30 days from the date you get the token).</span></span> <span data-ttu-id="fcd4b-158">Нажмите кнопку <strong>Получить массовый маркер</strong>.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-158">Click <strong>Get bulk token</strong>.</span></span> <span data-ttu-id="fcd4b-159">В окне&#39;введите учетную запись с разрешениями присоединиться к устройству <strong> Azure AD, а затем </strong> пароль.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-159">In the <strong>Let&#39;s get you signed in</strong> window, enter an account that has permissions to join a device to Azure AD, and then the password.</span></span> <span data-ttu-id="fcd4b-160">Нажмите кнопку <strong>Принять</strong> для предоставления конструктору конфигураций Windows необходимых разрешений.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-160">Click <strong>Accept</strong> to give Windows Configuration Designer the necessary permissions.</span></span></br></br><span data-ttu-id="fcd4b-161">Чтобы создать учетную запись локального администратора, выберите соответствующий параметр и введите имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-161">To create a local administrator account, select that option and enter a user name and password.</span></span> </br></br><strong><span data-ttu-id="fcd4b-162">Важно!</strong> Если вы создаете локальную учетную запись в пакете подготовки, необходимо изменять пароль с помощью приложения <strong>Параметры</strong> один раз в каждые 42 дня.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-162">Important:</strong> If you create a local account in the provisioning package, you must change the password using the <strong>Settings</strong> app every 42 days.</span></span> <span data-ttu-id="fcd4b-163">Если пароль не меняется в течение этого периода, учетная запись может быть заблокирована и стать недоступной для входа.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-163">If the password is not changed during that period, the account might be locked out and unable to sign in.</span></span>  </td><td><img src="images/set-up-device-admins-details.png" alt="join Active Directory, Azure AD, or create a local admin account"/></td></tr>
<tr><td style="width:45%" valign="top"><img src="images/four.png" alt="step four"/> <img src="images/enroll-mdm.png" alt="enroll in device management"/></br></br><span data-ttu-id="fcd4b-164">Используйте этот раздел для регистрации в поставщиках MDM, кроме Intune.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-164">Use this section to enroll in MDM providers besides Intune.</span></span> <span data-ttu-id="fcd4b-165">Для регистрации intune используйте azure AD join in the previous section with <a href="https://docs.microsoft.com/mem/intune/enrollment/windows-enroll#enable-windows-10-automatic-enrollment" data-raw-source="[automatic Intune enrollment](https://docs.microsoft.com/mem/intune/enrollment/windows-enroll#enable-windows-10-automatic-enrollment)"> automatic Intune </a> enrollment.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-165">For Intune enrollment, use Azure AD join in the previous section with <a href="https://docs.microsoft.com/mem/intune/enrollment/windows-enroll#enable-windows-10-automatic-enrollment" data-raw-source="[automatic Intune enrollment](https://docs.microsoft.com/mem/intune/enrollment/windows-enroll#enable-windows-10-automatic-enrollment)">automatic Intune enrollment</a>.</span></span></br></br><span data-ttu-id="fcd4b-166">Выберите <strong>Да</strong> или <strong>Нет</strong> для регистрации в MDM.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-166">Toggle <strong>Yes</strong> or <strong>No</strong> for enrollment in MDM.</span></span> </br></br><span data-ttu-id="fcd4b-167">Если вы выбрали <strong>Да</strong>, необходимо предоставить учетную запись и пароль службы или отпечаток сертификата с правом на регистрацию устройства, а также указать тип проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-167">If you toggle <strong>Yes</strong>, you must provide a service account and password or certificate thumbprint that is authorized to enroll the device, and also specify the authentication type.</span></span> <span data-ttu-id="fcd4b-168">По требованию поставщика MDM также введите URL-адреса службы обнаружения, службы регистрации сертификатов и службы политики.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-168">If required by your MDM provider, also enter the URLs for the discovery service, enrollment service, and policy service.</span></span> <a href="manage-settings-with-mdm-for-surface-hub.md" data-raw-source="[Learn more about managing Surface Hub with MDM.](manage-settings-with-mdm-for-surface-hub.md)"><span data-ttu-id="fcd4b-169">Дополнительные сведения об управлении Surface Hub с помощью MDM.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-169">Learn more about managing Surface Hub with MDM.</span></span></a></td><td><img src="images/enroll-mdm-details.png" alt="enroll in mobile device management"/></td></tr>
<tr><td style="width:45%" valign="top"><img src="images/five.png" alt="step five"/> <img src="images/add-applications.png" alt="add applications"/></br></br><span data-ttu-id="fcd4b-170">В пакете подготовки можно установить несколько приложений универсальной платформы Windows (UWP).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-170">You can install multiple Universal Windows Platform (UWP) apps in a provisioning package.</span></span> <span data-ttu-id="fcd4b-171">Для получения справочных сведений по параметрам см.раздел <a href="https://technet.microsoft.com/itpro/windows/configure/provision-pcs-with-apps" data-raw-source="[Provision PCs with apps](https://technet.microsoft.com/itpro/windows/configure/provision-pcs-with-apps)">Подготовка компьютеров с приложениями</a>.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-171">For help with the settings, see <a href="https://technet.microsoft.com/itpro/windows/configure/provision-pcs-with-apps" data-raw-source="[Provision PCs with apps](https://technet.microsoft.com/itpro/windows/configure/provision-pcs-with-apps)">Provision PCs with apps</a>.</span></span> </br></br><strong><span data-ttu-id="fcd4b-172">Важно. Хотя интерфейс мастера позволяет выбрать приложение Classic Win32, включайте приложения UWP только в пакет подготовка, который будет применяться </strong> Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-172">Important:</strong> Although the wizard interface allows you to select a Classic Win32 app, only include UWP apps in a provisioning package that will be applied to Surface Hub.</span></span> <span data-ttu-id="fcd4b-173">Если включить классическое приложение Win32, подготовка завершится ошибкой.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-173">If you include a Classic Win32 app, provisioning will fail.</span></span> </td><td><img src="images/add-applications-details.png" alt="add an application"/></td></tr>
<tr><td style="width:45%" valign="top"><img src="images/six.png" alt="step six"/>  <img src="images/add-config-file.png" alt="Add configuration file"/></br></br><span data-ttu-id="fcd4b-174">Вы не&#39;настройки параметров на этом шаге.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-174">You don&#39;t configure any settings in this step.</span></span> <span data-ttu-id="fcd4b-175">В нем приведены инструкции по включению файла конфигурации, который содержит список учетных записей устройства.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-175">It provides instructions for including a configuration file that contains a list of device accounts.</span></span> <span data-ttu-id="fcd4b-176">Файл конфигурации не должен содержать заголовки столбцов.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-176">The configuration file must not contain column headers.</span></span> <span data-ttu-id="fcd4b-177">Если файл конфигурации Surface Hub имеется на USB-накопителе, то при применении пакета подготовки к Surface Hub можно выбрать учетную запись и понятное имя для устройства из файла.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-177">When you apply the provisioning package to Surface Hub, if a Surface Hub configuration file is included on the USB drive, you can select the account and friendly name for the device from the file.</span></span> <span data-ttu-id="fcd4b-178">В качестве примера см.<a href="#sample-configuration-file" data-raw-source="[Sample configuration file](#sample-configuration-file)">Образец файла конфигурации</a>.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-178">See <a href="#sample-configuration-file" data-raw-source="[Sample configuration file](#sample-configuration-file)">Sample configuration file</a> for an example.</span></span></br></br><strong><span data-ttu-id="fcd4b-179">Важно: файл конфигурации может применяться только во время установки вне окна (OOBE) и может использоваться только с пакетами подготовка, созданными с помощью конструктора конфигурации Windows, выпущенного с </strong> Windows 10 версии 1703.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-179">Important:</strong> The configuration file can only be applied during the out-of-box setup experience (OOBE) and can only be used with provisioning packages created using the Windows Configuration Designer released with Windows 10, version 1703.</span></span>  </td><td><img src="images/add-config-file-details.png" alt="Add a Surface Hub configuration file"/></td></tr>
<tr><td style="width:45%" valign="top">  <img src="images/finish.png" alt="finish creating your package"/></br></br><span data-ttu-id="fcd4b-180">Можно задать пароль для защиты пакета подготовки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-180">You can set a password to protect your provisioning package.</span></span> <span data-ttu-id="fcd4b-181">Необходимо ввести этот пароль при применении пакета подготовки на устройстве.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-181">You must enter this password when you apply the provisioning package to a device.</span></span></td><td><img src="images/finish-details.png" alt="Protect your package"/></td></tr>
</table>

<span data-ttu-id="fcd4b-182">Завершив настройку, нажмите кнопку **Создать**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-182">After you're done, click **Create**.</span></span> <span data-ttu-id="fcd4b-183">Это займет несколько секунд.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-183">It only takes a few seconds.</span></span> <span data-ttu-id="fcd4b-184">После построения пакета расположение, в котором хранится пакет, отображается как гиперссылка в нижней части страницы.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-184">When the package is built, the location where the package is stored is displayed as a hyperlink at the bottom of the page.</span></span>

## <a name="sample-configuration-file"></a><span data-ttu-id="fcd4b-185">Пример файла конфигурации</span><span class="sxs-lookup"><span data-stu-id="fcd4b-185">Sample configuration file</span></span>

<span data-ttu-id="fcd4b-186">Файл конфигурации Surface Hub содержит список учетных записей устройства, которые могут использоваться вашим устройством для подключения к Exchange и Skype для бизнеса.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-186">A Surface Hub configuration file contains a list of device accounts that your device can use to connect to Exchange and Skype for Business.</span></span> <span data-ttu-id="fcd4b-187">При применении пакета подготовки к Surface Hub можно включить файл конфигурации в корневой каталог USB-накопителя, а затем выбрать нужную учетную запись для применения к этому устройству.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-187">When you apply a provisioning package to Surface Hub, you can include a configuration file in the root directory of the USB flash drive, and then select the desired account to apply to that device.</span></span> <span data-ttu-id="fcd4b-188">Файл конфигурации можно применять только при первом включении (OOBE) и использовать исключительно с пакетами подготовки, созданными с помощью конструктора конфигурации Windows, который поставляется с Windows10 версии1703.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-188">The configuration file can only be applied during the out-of-box setup experience (OOBE) and can only be used with provisioning packages created using the Windows Configuration Designer released with Windows 10, version 1703.</span></span>

<span data-ttu-id="fcd4b-189">Используйте Microsoft Excel или другой редактор CSV для создания CSV-файла с именем `SurfaceHubConfiguration.csv`.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-189">Use Microsoft Excel or other CSV editor to create a CSV file named `SurfaceHubConfiguration.csv`.</span></span> <span data-ttu-id="fcd4b-190">В файле введите список учетных записей устройства и понятные имена в следующем формате:</span><span class="sxs-lookup"><span data-stu-id="fcd4b-190">In the file, enter a list of device accounts and friendly names in this format:</span></span>

```console
<DeviceAccountName>,<DeviceAccountPassword>,<FriendlyName>
```
>[!IMPORTANT]
><span data-ttu-id="fcd4b-191">Поскольку в файле конфигурации хранятся пароли учетных записей устройства в виде обычного текста, мы рекомендуем обновить пароли после применения пакета подготовки к устройствам.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-191">Because the configuration file stores the device account passwords in plaintext, we recommend that you update the passwords after you've applied the provisioning package to your devices.</span></span> <span data-ttu-id="fcd4b-192">Для обновления паролей через систему MDM можно использовать [узел DeviceAccount](https://msdn.microsoft.com/windows/hardware/commercialize/customize/mdm/surfacehub-csp#deviceaccount) в [поставщике служб конфигурации (CSP) Surface Hub](https://msdn.microsoft.com/windows/hardware/commercialize/customize/mdm/surfacehub-csp).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-192">You can use the [DeviceAccount node](https://msdn.microsoft.com/windows/hardware/commercialize/customize/mdm/surfacehub-csp#deviceaccount) in the [Surface Hub configuration service provider (CSP)](https://msdn.microsoft.com/windows/hardware/commercialize/customize/mdm/surfacehub-csp) to update the passwords via MDM.</span></span>


<span data-ttu-id="fcd4b-193">Ниже приведен пример `SurfaceHubConfiguration.csv`.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-193">The following is an example of `SurfaceHubConfiguration.csv`.</span></span> 

```console
Rainier@contoso.com,password,Rainier Surface Hub
Adams@contoso.com,password,Adams Surface Hub
Baker@contoso.com,password,Baker Surface Hub
Glacier@constoso.com,password,Glacier Surface Hub
Stuart@contoso.com,password,Stuart Surface Hub
Fernow@contoso.com,password,Fernow Surface Hub
Goode@contoso.com,password,Goode Surface Hub
Shuksan@contoso.com,password,Shuksan Surface Hub
Buckner@contoso.com,password,Buckner Surface Hub
Logan@contoso.com,password,Logan Surface Hub
Maude@consoto.com,password,Maude Surface hub
Spickard@contoso.com,password,Spickard Surface Hub
Redoubt@contoso.com,password,Redoubt Surface Hub
Dome@contoso.com,password,Dome Surface Hub
Eldorado@contoso.com,password,Eldorado Surface Hub
Dragontail@contoso.com,password,Dragontail Surface Hub
Forbidden@contoso.com,password,Forbidden Surface Hub
Oval@contoso.com,password,Oval Surface Hub
StHelens@contoso.com,password,St Helens Surface Hub
Rushmore@contoso.com,password,Rushmore Surface Hub
```

## <a name="use-advanced-provisioning"></a><span data-ttu-id="fcd4b-194">Использование расширенной подготовки</span><span class="sxs-lookup"><span data-stu-id="fcd4b-194">Use advanced provisioning</span></span>

<span data-ttu-id="fcd4b-195">После [установки конструктора конфигураций Windows](https://technet.microsoft.com/itpro/windows/configure/provisioning-install-icd) можно создать пакет подготовки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-195">After you [install Windows Configuration Designer](https://technet.microsoft.com/itpro/windows/configure/provisioning-install-icd), you can create a provisioning package.</span></span>

### <a name="create-the-provisioning-package-advanced"></a><span data-ttu-id="fcd4b-196">Создание пакета подготовки (расширенное)</span><span class="sxs-lookup"><span data-stu-id="fcd4b-196">Create the provisioning package (advanced)</span></span>

1. <span data-ttu-id="fcd4b-197">Откройте конструктор конфигураций Windows.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-197">Open Windows Configuration Designer:</span></span>
   - <span data-ttu-id="fcd4b-198">На начальном экране или на панели поиска меню "Пуск" введите "Конструктор конфигураций Windows" и щелкните ярлык конструктора конфигураций Windows</span><span class="sxs-lookup"><span data-stu-id="fcd4b-198">From either the Start screen or Start menu search, type 'Windows Configuration Designer' and click on the Windows Configuration Designer shortcut,</span></span> 
    
     <span data-ttu-id="fcd4b-199">или</span><span class="sxs-lookup"><span data-stu-id="fcd4b-199">or</span></span>
    
   - <span data-ttu-id="fcd4b-200">если вы установили конструктор конфигураций Windows из ADK, перейдите к `C:\Program Files (x86)\Windows Kits\10\Assessment and Deployment Kit\Imaging and Configuration Designer\x86` (на компьютере x64) или `C:\Program Files\Windows Kits\10\Assessment and Deployment Kit\Imaging and Configuration Designer\x86\ICD.exe` (на компьютере x86), а затем дважды щелкните **ICD.exe**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-200">If you installed Windows Configuration Designer from the ADK, navigate to `C:\Program Files (x86)\Windows Kits\10\Assessment and Deployment Kit\Imaging and Configuration Designer\x86` (on an x64 computer) or `C:\Program Files\Windows Kits\10\Assessment and Deployment Kit\Imaging and Configuration Designer\x86\ICD.exe` (on an x86 computer), and then double-click **ICD.exe**.</span></span>

2. <span data-ttu-id="fcd4b-201">Щелкните **Расширенная подготовка**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-201">Click **Advanced provisioning**.</span></span>
   
3. <span data-ttu-id="fcd4b-202">Назначьте имя проекту и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-202">Name your project and click **Next**.</span></span>

4. <span data-ttu-id="fcd4b-203">Выберите **общие Windows 10 для совместной работы,** нажмите **кнопку Далее,** а затем нажмите **кнопку Готово**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-203">Select **Common to Windows 10 Team**, click **Next**, and then click **Finish**.</span></span>

    ![Новый проект ICD](images/icd-new-project.png)

5. <span data-ttu-id="fcd4b-205">В проекте в **рамках доступных настроек**выберите **параметры Common Team.**</span><span class="sxs-lookup"><span data-stu-id="fcd4b-205">In the project, under **Available customizations**, select **Common Team settings**.</span></span>

    ![Общие параметры ICD](images/icd-common-settings.png)


### <a name="add-a-certificate-to-your-package"></a><span data-ttu-id="fcd4b-207">Добавление сертификата в пакет</span><span class="sxs-lookup"><span data-stu-id="fcd4b-207">Add a certificate to your package</span></span>
<span data-ttu-id="fcd4b-208">Пакеты подготовки можно использовать для установки сертификатов, которые позволяют устройству проходить проверку подлинности в Microsoft Exchange.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-208">You can use provisioning packages to install certificates that will allow the device to authenticate to Microsoft Exchange.</span></span>

> [!NOTE]
> <span data-ttu-id="fcd4b-209">Пакеты подготовки позволяют установить сертификаты только в хранилище устройства (на локальном компьютере), а не в хранилище пользователя.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-209">Provisioning packages can only install certificates to the device (local machine) store, and not to the user store.</span></span> <span data-ttu-id="fcd4b-210">Если вашей организации требуется установить сертификаты в хранилище пользователей, вы можете использовать кнопку Import **Certificate** **в**разделе Update & security  >  **Certificates** приложения Параметры Hub. \*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="fcd4b-210">If your organization requires that certificates be installed to the user store, you can use the **Import Certificate** button in the **Update & Security** > **Certificates** section of Hub's **Settings** app.</span></span> <span data-ttu-id="fcd4b-211">Кроме того, политики управления мобильными устройствами [(MDM)](manage-settings-with-mdm-for-surface-hub.md) можно использовать для развертывания сертификатов в магазине устройств или в магазине пользователей.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-211">Alternatively, [Mobile Device Management (MDM) policies](manage-settings-with-mdm-for-surface-hub.md) can be used deploy certificates to either the device store or the user store.</span></span>

1. <span data-ttu-id="fcd4b-212">На панели **Доступные настройки** перейдите в раздел **Параметры среды выполнения** > **Сертификаты** > **ClientCertificates**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-212">In the **Available customizations** pane, go to **Runtime settings** > **Certificates** > **ClientCertificates**.</span></span>
   > [!NOTE]
   > <span data-ttu-id="fcd4b-213">Раздел ClientCertificates для файлов .pfx с закрытым ключом; .cer-файлы для корневых CAs должны быть размещены в разделе **RootCertificates,** а промежуточные CAs в **разделе CACertificates.** \*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="fcd4b-213">The **ClientCertificates** section is for .pfx files with a private key; .cer files for root CAs should be placed in the **RootCertificates** section and for Intermediate CAs in the **CACertificates** section.</span></span>

2. <span data-ttu-id="fcd4b-214">Введите метку **для CertificateName и** нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-214">Enter a label for **CertificateName** and then click **Add**.</span></span> 

2. <span data-ttu-id="fcd4b-215">Введите **CertificatePassword**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-215">Enter the **CertificatePassword**.</span></span> 

3. <span data-ttu-id="fcd4b-216">Найдите и выберите сертификат, который следует использовать для **CertificatePath**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-216">For **CertificatePath**, browse and select the certificate.</span></span> 

4. <span data-ttu-id="fcd4b-217">Задайте значение **False** для параметра **ExportCertificate**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-217">Set **ExportCertificate** to **False**.</span></span>

5. <span data-ttu-id="fcd4b-218">Для параметра **KeyLocation** выберите значение **Только программное обеспечение**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-218">For **KeyLocation**, select **Software only**.</span></span>


### <a name="add-a-universal-windows-platform-uwp-app-to-your-package"></a><span data-ttu-id="fcd4b-219">Добавление приложения универсальной платформы Windows (UWP) в пакет</span><span class="sxs-lookup"><span data-stu-id="fcd4b-219">Add a Universal Windows Platform (UWP) app to your package</span></span>
<span data-ttu-id="fcd4b-220">Прежде чем добавлять в пакет подготовки приложение UWP, необходимо создать пакет приложения (APPX или APPXBUNDLE) и файлы зависимостей.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-220">Before adding a UWP app to a provisioning package, you need the app package (either an .appx, or .appxbundle) and any dependency files.</span></span> <span data-ttu-id="fcd4b-221">Если вы приобрели приложение в Microsoft Store для бизнеса, вам также потребуется *некодированная* лицензия на приложение.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-221">If you acquired the app from the Microsoft Store for Business, you will also need the *unencoded* app license.</span></span> <span data-ttu-id="fcd4b-222">Информацию о загрузке этих элементов из Microsoft Store для бизнеса см. в статье [Распространение автономных приложений](https://technet.microsoft.com/itpro/windows/manage/distribute-offline-apps#download-an-offline-licensed-app).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-222">See [Distribute offline apps](https://technet.microsoft.com/itpro/windows/manage/distribute-offline-apps#download-an-offline-licensed-app) to learn how to download these items from the Microsoft Store for Business.</span></span>

1. <span data-ttu-id="fcd4b-223">На панели **Доступные настройки** перейдите в раздел **Параметры среды выполнения** > **UniversalAppInstall** > **DeviceContextApp**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-223">In the **Available customizations** pane, go to **Runtime settings** > **UniversalAppInstall** > **DeviceContextApp**.</span></span>

2. <span data-ttu-id="fcd4b-224">Введите **PackageFamilyName** для приложения, а затем нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-224">Enter a **PackageFamilyName** for the app and then click **Add**.</span></span> <span data-ttu-id="fcd4b-225">Для согласованности используйте имя семейства пакетов приложения.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-225">For consistency, use the app's package family name.</span></span> <span data-ttu-id="fcd4b-226">Если вы приобрели приложение в Microsoft Store для бизнеса, найти имя семейства пакетов можно в лицензии на приложение.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-226">If you acquired the app from the Microsoft Store for Business, you can find the package family name in the app license.</span></span> <span data-ttu-id="fcd4b-227">Откройте файл лицензии с помощью текстового редактора и используйте значение между \<PFM\> \</PFM\> тегами ...</span><span class="sxs-lookup"><span data-stu-id="fcd4b-227">Open the license file using a text editor, and use the value between the \<PFM\>...\</PFM\> tags.</span></span>

3. <span data-ttu-id="fcd4b-228">В **ApplicationFile** щелкните **Обзор**, чтобы найти и выбрать целевое приложение (\*.appx или \*.appxbundle).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-228">For **ApplicationFile**, click **Browse** to find and select the target app (either an \*.appx or \*.appxbundle).</span></span>

4. <span data-ttu-id="fcd4b-229">В разделе **DependencyAppxFiles** щелкните **Обзор**, чтобы найти и добавить любые зависимости для этого приложения.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-229">For **DependencyAppxFiles**, click **Browse** to find and add any dependencies for the app.</span></span> <span data-ttu-id="fcd4b-230">Для Surface Hub потребуются только версии x64 этих зависимостей.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-230">For Surface Hub, you will only need the x64 versions of these dependencies.</span></span>

<span data-ttu-id="fcd4b-231">Если вы приобрели приложение в Microsoft Store для бизнеса, вам также потребуется добавить в пакет подготовки лицензию на приложение.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-231">If you acquired the app from the Microsoft Store for Business, you will also need to add the app license to your provisioning package.</span></span>

1. <span data-ttu-id="fcd4b-232">Создайте копию лицензии на приложение и переименуйте ее с расширением **.ms-windows-store-license**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-232">Make a copy of the app license, and rename it to use a **.ms-windows-store-license** extension.</span></span> <span data-ttu-id="fcd4b-233">Например, "example.xml" становится "example.ms-windows-store-license".</span><span class="sxs-lookup"><span data-stu-id="fcd4b-233">For example, "example.xml" becomes "example.ms-windows-store-license".</span></span>

2. <span data-ttu-id="fcd4b-234">В ICD в области **Доступные настройки** перейдите в раздел **Параметры среды выполнения** > **UniversalAppInstall** > **DeviceContextAppLicense**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-234">In ICD, in the **Available customizations** pane, go to **Runtime settings** > **UniversalAppInstall** > **DeviceContextAppLicense**.</span></span>

3. <span data-ttu-id="fcd4b-235">Введите **LicenseProductId**, затем щелкните **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-235">Enter a **LicenseProductId** and then click **Add**.</span></span> <span data-ttu-id="fcd4b-236">Для согласованности используйте идентификатор лицензии приложения из лицензии на приложение.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-236">For consistency, use the app's license ID from the app license.</span></span> <span data-ttu-id="fcd4b-237">Откройте файл лицензии в текстовом редакторе.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-237">Open the license file using a text editor.</span></span> <span data-ttu-id="fcd4b-238">Затем в \<License\> теге используйте значение **атрибута LicenseID.**</span><span class="sxs-lookup"><span data-stu-id="fcd4b-238">Then, in the \<License\> tag, use the value in the **LicenseID** attribute.</span></span>

4. <span data-ttu-id="fcd4b-239">Выберите новый узел **LicenseProductId**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-239">Select the new **LicenseProductId** node.</span></span> <span data-ttu-id="fcd4b-240">В **LicenseInstall** щелкните **Обзор**, чтобы найти и выбрать файл лицензии, переименованный в шаге 1.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-240">For **LicenseInstall**, click **Browse** to find and select the license file that you renamed in Step 1.</span></span>


### <a name="add-a-policy-to-your-package"></a><span data-ttu-id="fcd4b-241">Добавление политики в пакет</span><span class="sxs-lookup"><span data-stu-id="fcd4b-241">Add a policy to your package</span></span>
<span data-ttu-id="fcd4b-242">Surface Hub поддерживает подмножество политик в разделе [Поставщик служб конфигурации политик](https://msdn.microsoft.com/library/windows/hardware/dn904962.aspx).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-242">Surface Hub supports a subset of the policies in the [Policy configuration service provider](https://msdn.microsoft.com/library/windows/hardware/dn904962.aspx).</span></span> <span data-ttu-id="fcd4b-243">Некоторые из этих политик можно настроить с помощью ICD.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-243">Some of those policies can be configured with ICD.</span></span>

1. <span data-ttu-id="fcd4b-244">На панели **Доступные настройки** перейдите в раздел **Параметры среды выполнения** > **Политики**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-244">In the **Available customizations** pane, go to **Runtime settings** > **Policies**.</span></span>

2. <span data-ttu-id="fcd4b-245">Выберите одну из доступных областей политики.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-245">Select one of the available policy areas.</span></span>

3. <span data-ttu-id="fcd4b-246">Выберите и настройте политику, которую требуется добавить в пакет подготовки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-246">Select and set the policy you want to add to your provisioning package.</span></span>


### <a name="add-surface-hub-settings-to-your-package"></a><span data-ttu-id="fcd4b-247">Добавление параметров Surface Hub в пакет</span><span class="sxs-lookup"><span data-stu-id="fcd4b-247">Add Surface Hub settings to your package</span></span> 

<span data-ttu-id="fcd4b-248">В пакет подготовки можно добавить параметры из раздела [Поставщик служб конфигурации SurfaceHub](https://msdn.microsoft.com/library/windows/hardware/mt608323.aspx).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-248">You can add settings from the [SurfaceHub configuration service provider](https://msdn.microsoft.com/library/windows/hardware/mt608323.aspx) to your provisioning package.</span></span> 

1. <span data-ttu-id="fcd4b-249">В области **доступных настроек** перейдите к настройкам \*\*\*\*  >  **Runtime SurfaceHub**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-249">In the **Available customizations** pane, go to **Runtime settings** > **SurfaceHub**.</span></span>

2. <span data-ttu-id="fcd4b-250">Выберите одну из доступных областей параметров.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-250">Select one of the available setting areas.</span></span>

3. <span data-ttu-id="fcd4b-251">Выберите и настройте параметр, который требуется добавить в пакет подготовки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-251">Select and set the setting you want to add to your provisioning package.</span></span> 


## <a name="build-your-package"></a><span data-ttu-id="fcd4b-252">Сборка пакета</span><span class="sxs-lookup"><span data-stu-id="fcd4b-252">Build your package</span></span>

1. <span data-ttu-id="fcd4b-253">Завершив настройку пакета подготовки, откройте меню **Файл** и щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-253">When you are done configuring the provisioning package, on the **File** menu, click **Save**.</span></span>

2. <span data-ttu-id="fcd4b-254">Прочитайте предупреждение о том, что файлы проекта могут содержать конфиденциальную информацию, затем нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-254">Read the warning that project files may contain sensitive information, and click **OK**.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="fcd4b-255">При создании пакета подготовки вы можете включить конфиденциальную информацию в файлы проекта и в файл пакета подготовки (PPKG).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-255">When you build a provisioning package, you may include sensitive information in the project files and in the provisioning package (.ppkg) file.</span></span> <span data-ttu-id="fcd4b-256">Несмотря на то что у вас есть возможность шифрования PPKG-файла, файлы проекта не шифруются.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-256">Although you have the option to encrypt the .ppkg file, project files are not encrypted.</span></span> <span data-ttu-id="fcd4b-257">Файлы проекта следует хранить в надежном месте, если они больше не требуются, их необходимо удалять.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-257">You should store the project files in a secure location and delete the project files when they are no longer needed.</span></span>

3. <span data-ttu-id="fcd4b-258">В меню **Экспорт** выберите пункт **Пакет подготовки**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-258">On the **Export** menu, click **Provisioning package**.</span></span>

4. <span data-ttu-id="fcd4b-259">Измените значение параметра **Владелец** на **ИТ-администратор**. Это позволит установить для данного пакета подготовки более высокий приоритет, чем приоритет пакетов подготовки из других источников, примененных к данному устройству.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-259">Change **Owner** to **IT Admin**, which will set the precedence of this provisioning package higher than provisioning packages applied to this device from other sources.</span></span>

5. <span data-ttu-id="fcd4b-260">Установите значение для параметра **Версия пакета**, а затем нажмите кнопку **Далее.**</span><span class="sxs-lookup"><span data-stu-id="fcd4b-260">Set a value for **Package Version**, and then select **Next.**</span></span>

    > [!TIP]
    > <span data-ttu-id="fcd4b-261">Можно внести изменения в существующие пакеты и изменить номер версии для обновления ранее примененных пакетов.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-261">You can make changes to existing packages and change the version number to update previously applied packages.</span></span>

6. <span data-ttu-id="fcd4b-262">Необязательно: можно зашифровать пакет и включить подпись пакета.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-262">Optional: You can choose to encrypt the package and enable package signing.</span></span>

    -   <span data-ttu-id="fcd4b-263">**Включить шифрование пакета** — при выборе этого пункта на экране отобразится автоматически созданный пароль.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-263">**Enable package encryption** - If you select this option, an auto-generated password will be shown on the screen.</span></span>

    -   <span data-ttu-id="fcd4b-264">**Включить подписывание пакета**— при выборе этого пункта необходимо выбрать действительный сертификат, который будет использоваться для подписывания пакета.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-264">**Enable package signing** - If you select this option, you must select a valid certificate to use for signing the package.</span></span> <span data-ttu-id="fcd4b-265">Вы можете указать сертификат, щелкнув **Обзор...**, а затем выбрав сертификат, который будет использоваться для подписания пакета.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-265">You can specify the certificate by clicking **Browse...** and choosing the certificate you want to use to sign the package.</span></span>

        > [!IMPORTANT]
        > <span data-ttu-id="fcd4b-266">Рекомендуется включить в пакет доверенный сертификат подготовки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-266">We recommend that you include a trusted provisioning certificate in your provisioning package.</span></span> <span data-ttu-id="fcd4b-267">Когда пакет применяется к устройству, сертификат добавляется в хранилище системы и впоследствии любой пакет, подписанный с использованием этого сертификата, будет применен автоматически.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-267">When the package is applied to a device, the certificate is added to the system store and any package signed with that certificate thereafter can be applied silently.</span></span> 

7. <span data-ttu-id="fcd4b-268">Нажмите кнопку **Далее** , чтобы указать выходное расположение, куда нужно поместить пакет подготовки после сборки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-268">Click **Next** to specify the output location where you want the provisioning package to go once it's built.</span></span> <span data-ttu-id="fcd4b-269">По умолчанию Windows ICD использует папку проекта в качестве расположения выходных данных.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-269">By default, Windows ICD uses the project folder as the output location.</span></span><p>
<span data-ttu-id="fcd4b-270">Вы также можете нажать **Обзор** , чтобы изменить расположение выходных данных по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-270">Optionally, you can click **Browse** to change the default output location.</span></span>

8. <span data-ttu-id="fcd4b-271">Нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-271">Click **Next**.</span></span>

9. <span data-ttu-id="fcd4b-272">Щелкните **Выполнить сборку** , чтобы начать сборку пакета.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-272">Click **Build** to start building the package.</span></span> <span data-ttu-id="fcd4b-273">Сведения о проекте отображаются на странице сборки, а индикатор выполнения указывает состояние сборки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-273">The project information is displayed in the build page and the progress bar indicates the build status.</span></span><p>
<span data-ttu-id="fcd4b-274">Чтобы отменить построение, нажмите кнопку **Отмена**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-274">If you need to cancel the build, click **Cancel**.</span></span> <span data-ttu-id="fcd4b-275">Текущий процесс построения будет отменен, мастер закроется и вы вернетесь в раздел **Страница настроек**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-275">This cancels the current build process, closes the wizard, and takes you back to the **Customizations Page**.</span></span>

10. <span data-ttu-id="fcd4b-276">В случае сбоя построения отобразится сообщение об ошибке со ссылкой на папку проекта.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-276">If your build fails, an error message will show up that includes a link to the project folder.</span></span> <span data-ttu-id="fcd4b-277">Вы можете просмотреть журналы, чтобы определить, что вызвало ошибку.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-277">You can scan the logs to determine what caused the error.</span></span> <span data-ttu-id="fcd4b-278">После устранения проблемы попробуйте выполнить построение пакета еще раз.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-278">Once you fix the issue, try building the package again.</span></span><p>
<span data-ttu-id="fcd4b-279">В случае успешного построения отобразятся пакет подготовки, выходной каталог и каталог проекта.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-279">If your build is successful, the name of the provisioning package, output directory, and project directory will be shown.</span></span>

    -   <span data-ttu-id="fcd4b-280">При желании вы можете выполнить построение пакета подготовки снова и выбрать другой путь для выходного пакета.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-280">If you choose, you can build the provisioning package again and pick a different path for the output package.</span></span> <span data-ttu-id="fcd4b-281">Для этого щелкните **Назад** , чтобы изменить имя и путь выходного пакета, и нажмите кнопку **Далее** , чтобы начать другое построение.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-281">To do this, click **Back** to change the output package name and path, and then click **Next** to start another build.</span></span>
    
    -   <span data-ttu-id="fcd4b-282">Если вы закончили, нажмите кнопку **Готово** , чтобы закрыть мастер и вернуться в раздел **Страница настроек**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-282">If you are done, click **Finish** to close the wizard and go back to the **Customizations Page**.</span></span>

11. <span data-ttu-id="fcd4b-283">Выберите ссылку **Размещение вывода**, чтобы перейти в расположение пакета.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-283">Select the **output location** link to go to the location of the package.</span></span> <span data-ttu-id="fcd4b-284">Копируйте PPKG-файл на пустой USB-накопитель флэш-памяти.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-284">Copy the .ppkg to an empty USB flash drive.</span></span>


## <a name="apply-a-provisioning-package-to-surface-hub"></a><span data-ttu-id="fcd4b-285">Применение пакета подготовки на устройстве Surface Hub</span><span class="sxs-lookup"><span data-stu-id="fcd4b-285">Apply a provisioning package to Surface Hub</span></span>

<span data-ttu-id="fcd4b-286">Существует два варианта развертывания пакетов подготовки на Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-286">There are two options for deploying provisioning packages to a Surface Hub.</span></span> <span data-ttu-id="fcd4b-287">[](#apply-a-provisioning-package-during-first-run)Во время первого мастер запуска можно применить пакет подготовки, устанавливающий сертификаты, или после завершения первой программы можно применить пакет подготовки, который настраивает параметры, приложения и сертификаты с помощью [Параметры](#apply-a-package-using-settings).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-287">[During the first run wizard](#apply-a-provisioning-package-during-first-run), you can apply a provisioning package that installs certificates, or after the first-run program is complete, you can apply a provisioning package that configures settings, apps, and certificates by using [Settings](#apply-a-package-using-settings).</span></span> 


### <a name="apply-a-provisioning-package-during-first-run"></a><span data-ttu-id="fcd4b-288">Применение пакета подготовки при первом запуске</span><span class="sxs-lookup"><span data-stu-id="fcd4b-288">Apply a provisioning package during first run</span></span>

> [!IMPORTANT]
> <span data-ttu-id="fcd4b-289">Во время первой программы для установки сертификатов можно использовать только пакеты подготовки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-289">During the first-run program, you can only use provisioning packages to install certificates.</span></span> <span data-ttu-id="fcd4b-290">Используйте приложение **Параметры**, чтобы установить приложения и применить другие параметры.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-290">Use the **Settings** app to install apps and apply other settings.</span></span>

1. <span data-ttu-id="fcd4b-291">При первом включении Surface Hub в программе первого запуска отображается [**страница приветствия**](first-run-program-surface-hub.md#first-page).</span><span class="sxs-lookup"><span data-stu-id="fcd4b-291">When you turn on the Surface Hub for the first time, the first-run program will display the [**Hi there page**](first-run-program-surface-hub.md#first-page).</span></span> <span data-ttu-id="fcd4b-292">Перед продолжением убедитесь, что параметры настроены правильно.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-292">Make sure that the settings are properly configured before proceeding.</span></span>

2. <span data-ttu-id="fcd4b-293">Вставьте USB-устройство флэш-памяти с PPKG-файлом в Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-293">Insert the USB flash drive containing the .ppkg file into the Surface Hub.</span></span> <span data-ttu-id="fcd4b-294">Если пакет находится в корневом каталоге диска, программа первого запуска распознает его и спросит, требуется ли настроить устройство.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-294">If the package is in the root directory of the drive, the first-run program will recognize it and ask if you want to set up the device.</span></span> <span data-ttu-id="fcd4b-295">Выберите **Настройка**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-295">Select **Set up**.</span></span>

    ![Настроить устройство?](images/provisioningpackageoobe-01.png)

3. <span data-ttu-id="fcd4b-297">На следующем экране появляется запрос о выборе источника подготовки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-297">The next screen asks you to select a provisioning source.</span></span> <span data-ttu-id="fcd4b-298">Выберите **Съемный носитель** и коснитесь **Далее**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-298">Select **Removable Media** and tap **Next**.</span></span>

    ![Подготовка этого устройства](images/provisioningpackageoobe-02.png)
    
4. <span data-ttu-id="fcd4b-300">Выберите пакет подготовки (\*.ppkg), который вы хотите применить, а затем коснитесь **Далее**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-300">Select the provisioning package (\*.ppkg) that you want to apply, and tap **Next**.</span></span> <span data-ttu-id="fcd4b-301">Обратите внимание, что вы можете установить только один пакет во время первого запуска.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-301">Note that you can only install one package during first run.</span></span>

    ![Выберите пакет](images/provisioningpackageoobe-03.png)

5. <span data-ttu-id="fcd4b-303">В программе первого запуска отобразится сводка изменений, которые будут внесены с помощью пакета подготовки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-303">The first-run program will show you a summary of the changes that the provisioning package will apply.</span></span> <span data-ttu-id="fcd4b-304">Выберите **Да, добавить**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-304">Select **Yes, add it**.</span></span>  

    ![Вы считаете этот пакет надежным?](images/provisioningpackageoobe-04.png)
    
6. <span data-ttu-id="fcd4b-306">Если файл конфигурации включен в корневой каталог USB-накопителя, вы увидите параметр **Выбор конфигурации**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-306">If a configuration file is included in the root directory of the USB flash drive, you will see **Select a configuration**.</span></span> <span data-ttu-id="fcd4b-307">Первая учетная запись устройства в файле конфигурации будет отображаться вместе со сводными данными учетной записи, которые будут применяться к Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-307">The first device account in the configuration file will be shown with a summary of the account information that will be applied to the Surface Hub.</span></span>

    ![выбор конфигурации](images/ppkg-config.png)    

7. <span data-ttu-id="fcd4b-309">В пункте **Выбор конфигурации** выберите имя устройства для применения, а затем нажмите **Далее**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-309">In **Select a configuration**, select the device name to apply, and then click **Next**.</span></span>

    ![выбор понятного имени](images/ppkg-csv.png)
    
<span data-ttu-id="fcd4b-311">К устройству будут применены параметры из пакета подготовки и первый запуск будет завершен.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-311">The settings from the provisioning package will be applied to the device and OOBE will be complete.</span></span> <span data-ttu-id="fcd4b-312">После перезагрузки устройства можно удалить USB-накопитель.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-312">After the device restarts, you can remove the USB flash drive.</span></span>

### <a name="apply-a-package-using-settings"></a><span data-ttu-id="fcd4b-313">Применение пакета с использованием приложения «Параметры»</span><span class="sxs-lookup"><span data-stu-id="fcd4b-313">Apply a package using Settings</span></span>

1. <span data-ttu-id="fcd4b-314">Вставьте USB-устройство флэш-памяти с PPKG-файлом в Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-314">Insert the USB flash drive containing the .ppkg file into the Surface Hub.</span></span>

2. <span data-ttu-id="fcd4b-315">В Surface Hub запустите приложение **Параметры** и введите учетные данные администратора в ответ на соответствующий запрос.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-315">From the Surface Hub, start **Settings** and enter the admin credentials when prompted.</span></span>

3. <span data-ttu-id="fcd4b-316">Перейдите к **Surface Hub** > **Управление устройствами**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-316">Navigate to **Surface Hub** > **Device management**.</span></span> <span data-ttu-id="fcd4b-317">В разделе **Пакеты подготовки** выберите **Добавить или удалить пакет подготовки**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-317">Under **Provisioning packages**, select **Add or remove a provisioning package**.</span></span>

4. <span data-ttu-id="fcd4b-318">Выберите **Добавить пакет**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-318">Select **Add a package**.</span></span>

5. <span data-ttu-id="fcd4b-319">Выберите пакет подготовки и щелкните **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-319">Choose your provisioning package and select **Add**.</span></span> <span data-ttu-id="fcd4b-320">Возможно, потребуется повторно ввести учетные данные администратора в ответ на соответствующий запрос.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-320">You may have to re-enter the admin credentials if prompted.</span></span>

6. <span data-ttu-id="fcd4b-321">Отобразится сводка изменений, которые будут применены пакетом подготовки.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-321">You'll see a summary of the changes that the provisioning package will apply.</span></span> <span data-ttu-id="fcd4b-322">Выберите **Да, добавить**.</span><span class="sxs-lookup"><span data-stu-id="fcd4b-322">Select **Yes, add it**.</span></span>



---
title: Как Surface Hub решает проблемы безопасности Wi-Fi Direct
description: Руководство по риску безопасности сетей Wi-Fi Direct.
keywords: журнал изменений
ms.prod: surface-hub
ms.sitesec: library
author: dansimp
ms.author: dansimp
ms.topic: article
ms.date: 11/27/2019
ms.reviewer: ''
manager: laurawi
ms.localizationpriority: medium
ms.openlocfilehash: d877d9b6a4e330a74a9d79cf1150487d89c0da23
ms.sourcegitcommit: 109d1d7608ac4667564fa5369e8722e569b8ea36
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/27/2020
ms.locfileid: "10835000"
---
# Как Surface Hub решает проблемы безопасности Wi-Fi Direct

Microsoft Surface Hub — это универсальное офисное устройство, предназначенное для групповых обсуждений, взаимодействия и обмена идеями. Surface Hub использует технологию Miracast для беспроводных проекций через Wi-Fi Direct.

В этой статье описаны уязвимости сетей Wi-Fi Direct, как Surface Hub рассматриваются эти риски и как администраторы могут настроить Surface Hub для максимального уровня безопасности. Эти сведения помогут пользователям, которым предъявляются высокие требования к безопасности, защитить их Surface Hub — подключенные к ним сети и данные в процессе передачи.

Целевая аудитория для этой статьи является ИТ-администратором, а также сетевыми администраторами, которые хотят развернуть Surface Hub в корпоративной среде с оптимальными параметрами безопасности.

##  <a name="overview"></a>Обзор

Безопасность для Surface Hub сильно зависят от сетей Wi-Fi Direct/Miracast, а также с помощью встроенных в него стандартов 802,11, Wi-Fi Protected Access (WPA2) и настройки беспроводной защиты (WPS). Поскольку устройство поддерживает только WPS (в отличие от предварительно общего ключа WPA2 [PSK] или WPA2 Enterprise), часто возникают проблемы, связанные с шифрованием 802,11.

Surface Hub работают по номиналу вместе с полем приемников Miracast. Таким образом, они уязвимы для аналогичного набора эксплойтов на всех беспроводных сетевых устройствах на базе WPS. Но у реализации центрального центра WPS есть дополнительные меры предосторожности, встроенные. Кроме того, его внутренняя архитектура помогает предотвратить появление злоумышленником, который подверг собой уровень Wi-Fi Direct/Miracast, от перемещения сетевого интерфейса на другие поверхности для атак и подключенные корпоративные сети.

##  <a name="wi-fi-direct-background"></a>Краткая справка по Wi-Fi Direct

Функция Miracast входит в стандарт дисплея Wi-Fi, который поддерживается протоколом Wi-Fi Direct. Эти стандарты поддерживаются в современных мобильных устройствах для совместного использования экрана и совместной работы.

Wi-Fi Direct или Wi-Fi "Одноранговая сеть" (P2P) — это стандарт, который можно получить в сетях Wi-Fi Alliance. Поддерживаемые устройства могут взаимодействовать напрямую и создавать группы сетей без обычной точки доступа к сети Wi-Fi или подключения к Интернету.

Безопасность для Wi-Fi Direct обеспечивается WPA2 в стандарте WPS. Механизм проверки подлинности для устройств может представлять собой числовой ПИН-код, физическую или виртуальную кнопку отправки (WPS-PBC) или нестандартное сообщение, например, "WPS-OOO". Surface Hub поддерживает как метод PIN, так и метод Push-Button, который используется по умолчанию.

В Wi-Fi Direct группы создаются как один из следующих типов:
- *Постоянная*, при которой автоматическое повторное подключение может происходить с помощью сохраненного ключа.
- *Временный*, в котором устройства невозможно повторно пройти проверку подлинности без вмешательства пользователя

Группы Wi-Fi Direct определяют *владельца группы* (Go) с помощью протокола согласования, который имитирует функцию "станция" или "точка доступа" для установленной группы Wi-Fi Direct. Wi-Fi Direct GO обеспечивает проверку подлинности (с помощью встроенного регистратора) и упрощает передачу сетевых подключений. Для Surface Hub это согласование не происходит. Сеть работает только в автономном режиме, и Surface Hub всегда является владельцем группы. Наконец, Surface Hub не присоединяет другие сети Wi-Fi Direct как клиент.

##  <a name="how-surface-hub-addresses-wi-fi-direct-vulnerabilities"></a>Как Surface Hub заправляет уязвимые места Wi-Fi Direct

**Уязвимости и атаки в приглашении на Wi-Fi Direct, трансляции и обнаружении:** Атаки Wi-Fi Direct/Miracast могут быть нацелены на слабые места при установке групп, обнаружении одноранговых устройств, широковещательном показе устройства или процессах приглашения.

|Уязвимость Wi-Fi Direct | Защита Surface HUB |
| --- | --- |
| Процесс обнаружения может оставаться активным в течение длительного периода времени, что позволяет устанавливать приглашения и подключения без утверждения владельца устройства. | Surface Hub функционирует только в качестве владельца группы, который не выполняет процессы согласования клиента с обнаружением и ПЕРЕХОДом. Вы можете полностью отключить беспроводную проекцию, чтобы отключить широковещательные показы. |
| Приглашение и обнаружение через PBC позволяет злоумышленнику без проверки подлинности выполнять повторяющиеся попытки подключения, а также автоматически принимать подключения без проверки подлинности. | Для обеспечения безопасности с помощью ПИН-кода WPS администраторы могут уменьшить потенциальные возможности для таких неавторизованных подключений или "приглашение бомбы", когда приглашения будут многократно отправляться, пока пользователь не примет одно из них. |

**Защитная кнопка подключения к Wi-Fi Protected (PBC) и запись PIN-кода:** Общедоступные слабые стороны были продемонстрированы при проектировании и реализации метода для закрепления в WPS. В WPS-PBC есть другие уязвимости, которые могут позволить активным атакам на протокол, предназначенный для однократного использования.

| Уязвимость Wi-Fi Direct | Защита Surface HUB |
| --- | --- |
| WPS-PBC уязвим для активных атак злоумышленников. Спецификации WPS: "метод PBC имеет нулевые биты энтропии и защищается только от пассивных атак с прослушиванием. PBC защищает от перехвата и принимает меры для предотвращения присоединения устройства к сети, которая не была выбрана владельцем устройства. Однако отсутствие проверки подлинности означает, что PBC не защищает от активных атак. " Злоумышленники могут использовать выборочную Застревание беспроводной связи или другие приемы обслуживания для активации нежелательного прямого подключения к сети Wi-Fi или соединения. Кроме того, активный злоумышленник, который просто физически может подключаться к любой группе Wi-Fi Direct и пытается выполнить атаку до тех пор, пока не завершится успешно. | Включите безопасность на WPS-ПИН в конфигурации Surface Hub. Спецификации Wi-Fi WPS: "метод PBC следует использовать только в том случае, если регистратор, поддерживающий ПИН-код, недоступен, и пользователь WLAN обязан принимать риски, связанные с PBC". |
| Использование прикрепления к контактам с помощью WPS может подвергаться атаке по грубой связи, которая направлена на уязвимость в стандарте WPS. Конструктивный индикатор проверки PIN-кода разбивается на несколько уязвимостей, описанных в разделе Производители оборудования Wi-Fi в течение нескольких лет. В 2011 исследователи Стефана Viehböck и Крейг Heffner выпустили информацию об этой уязвимости и средствах, например "Reaver" в качестве эксперимента. |   Реализация WPS в Microsoft на Surface Hub меняет ПИН-код каждые 30 секунд. Чтобы взломать ПИН-код, злоумышленник должен выполнить все необходимые функции менее 30 секунд. Выдавая текущее состояние инструментальных средств и справочных материалов в этой области, вы, скорее всего, не получится, что атака с помощью WPS не будет успешной. |
| Благодаря слабой первоначальной клавише (E-S1, E S2) энтропия можно взломать с помощью автономной атаки. В 2014 Dominique BONGARD (Пикси), где слабая случайная сила для генератора псевдослучайных чисел (PRNG) в беспроводном устройстве допускает неную атаку. | Внедрение Microsoft WPS в Surface Hub не является уязвимым для атак с помощью автоподбора неподключенных контактов. Для каждого подключения назначается произвольный WPS-PIN-код. |

**Непредусмотренная раскрытие сетевых служб.** Сетевые демоны, предназначенные для служб Ethernet или WLAN, могут быть случайно открыты из-за неправильной конфигурации (например, привязки к "все"/интерфейсу 0.0.0.0). Другие возможные причины включают неправильно настроенный брандмауэр устройства или отсутствие правил брандмауэра.

| Уязвимость Wi-Fi Direct | Защита Surface HUB |
| --- | --- |
| Неправильная конфигурация привязывает уязвимую или непроверенную сетевую службу ко "всем" интерфейсам, включая интерфейс Wi-Fi Direct. Это может предоставлять службы, которые не должны быть доступны клиентам Wi-Fi Direct, которые могут быть ненадежными или автоматически подлинными. | В Surface Hub правила брандмауэра по умолчанию разрешают только необходимые сетевые порты TCP и UDP, а по умолчанию запретить все входящие подключения. Настройка надежной проверки подлинности путем включения режима ПИН-кода в WPS.|

**Мосты Wi-Fi Direct и другие проводные и беспроводные сети:** Сетевые мосты между сетями WLAN и Ethernet нарушают спецификацию Wi-Fi Direct. Такой мост или невозможная настройка может эффективно уменьшить или удалить беспроводные элементы управления доступом для внутренней корпоративной сети.

| Уязвимость Wi-Fi Direct | Защита Surface HUB |
| --- | --- |
| Устройства Wi-Fi Direct могут разрешить непроверенный или слабо проверенный доступ к подключениям типа мост. Это может позволить сети Wi-Fi Direct маршрутизировать трафик к внутренней сети Ethernet или другой инфраструктуре или к корпоративным сетям WLAN в нарушение существующих протоколов безопасности информационных систем. | Surface Hub нельзя настроить для моста беспроводных интерфейсов или разрешить маршрутизацию между разнородными сетями. По умолчанию правила брандмауэра добавляют высокий уровень защиты ко всем таким маршрутизированным подключениям или подключениям типа "мост". |

**Использование режима "устаревшие" Wi-Fi Direct:** Непредусмотренные сети или устройства могут возникать при работе в режиме "старые". Если метод WPS-PIN не включен, может произойти подмена устройств или нежелательные подключения.

| Уязвимость Wi-Fi Direct | Защита Surface HUB |
| --- | --- |
| Поддерживая клиенты инфраструктуры Wi-Fi Direct и 802.11, система работает в режиме поддержки "устаревший". Это может привести к неопределенной настройке подключения, разрешающей соединение групп или устройств, приглашенных для подключения, после завершения их предполагаемого этапа настройки. |    Surface Hub не поддерживает устаревшие клиенты Wi-Fi Direct. К Surface Hub можно установить только подключения Wi-Fi Direct, даже если включен режим WPS-PIN. |

**Согласование прямых переходов Wi-Fi в ходе настройки подключения:** Владелец группы в Wi-Fi Direct является аналогом точки доступа в обычной беспроводной сети 802,11. Вредоносное устройство может обойти такое согласование.

|Уязвимость Wi-Fi Direct |   Защита Surface HUB |
| --- | --- |
| Если группы динамически установлены или устройство Wi-Fi Direct может быть выполнено для присоединения к новым группам, согласование владельцев групп может быть реализовано вредоносным устройством, которое всегда задает максимальное значение для владельца группы, равное 15. (Но подключение завершается сбоем, если устройство настроено так, что оно всегда является владельцем группы).  | Surface Hub использует преимущества автономного режима Wi-Fi Direct, что пропускает фазу согласования соединения при настройке подключения. И Surface Hub всегда является владельцем группы. |

**Непредусмотренная или вредоносная депроверка подлинности Wi-Fi.** Депроверка подлинности Wi-Fi — это старая атака, при которой локальный злоумышленник может ускорить сбор данных в процессе настройки подключения, инициировать новые четыре одноранговых подтверждения, перенаправлять прямые WPS по Wi-Fi-PBC для активных атак или создавать атаки типа "отказ в обслуживании".

| Уязвимость Wi-Fi Direct | Защита Surface HUB |
| --- | --- |
| Пакеты для проверки подлинности могут быть отправлены злоумышленником без проверки подлинности для повторной проверки подлинности на станции и для прослушивания конечного подтверждения. Попытка атак шифрования или подбора может выполняться на полученное подтверждение. Устранение подобных атак включает в себя применение политик длины и сложности для предварительных ключей, Настройка точки доступа (если применимо) для обнаружения вредоносных уровней пакетов для проверки подлинности, а также использование WPS для автоматического создания сложных ключей. В режиме PBC пользователь взаимодействует с физической или виртуальной кнопкой для обеспечения произвольной связи с устройством. Этот процесс должен выполняться только во время установки, в коротком окне. После того как кнопка будет автоматически нажата, устройство будет поддерживать любую станцию, которая связывается с помощью канонического значения PIN-кода (все нули). Отмена проверки подлинности может принудительно повторять процесс установки. |   Surface Hub использует WPS в режиме PIN или PBC. Настройка PSK не разрешена. Этот метод обеспечивает принудительное создание сложных ключей. Рекомендуется включить защиту с помощью WPS-ПИН для Surface Hub. |
| Помимо атак типа "отказ в обслуживании", пакеты для проверки подлинности можно использовать для активации повторного подключения, которое открывает окно возможности для активных атак с помощью WPS-PBC. |   Включите безопасность на WPS-КОНТАКТах в конфигурации Surface Hub. |

**Основные сведения о выкрытиех беспроводных сетей.** Беспроводные сети, 802,11 или иным образом, не подвержены риску раскрытия информации. Несмотря на то, что эта информация обычно является подключением или метаданными устройства, эта проблема остается известной опасности для любого сетевого администратора 802,11. Wi-Fi Direct с проверкой подлинности устройства через WPS-PIN эффективно открывает те же сведения, что и PSK или корпоративная сеть 802.11.

| Уязвимость Wi-Fi Direct | Защита Surface HUB |
| --- | --- |
| В процессе трансляции, настройки подключения или даже обычной работы уже зашифрованных подключений основные сведения об устройствах и размерах пакетов можно передавать по беспроводным каналам. На базовом уровне локальный взломщик, находящийся в диапазоне беспроводного доступа, может изучить необходимые элементы данных 802,11, чтобы определить имена беспроводных устройств, MAC-адреса устройства, на которых осуществляется связь, и другие сведения, например версию беспроводного стека, размер пакетов или настроенные параметры точки доступа или владельца группы.  | Сеть Wi-Fi Direct, используемая Surface Hub, не может быть защищены от утечек метаданных, так же как для беспроводных сетей в 802,11 Enterprise или PSK. Физическая безопасность и удаление потенциальных угроз с беспроводного сетевого взаимодействия помогает уменьшить вероятность потери данных. |

**Атаки злоумышленников двойнойных и подменных решений:**  Подмена имени беспроводного соединения – это простой, известный злоумышленник может использовать для Lure невероятных или ошибочных пользователей.

| Уязвимость Wi-Fi Direct | Защита Surface HUB |
| --- | --- |
| Подмена или клонирование имени или идентификатора SSID для целевой сети может дать пользователю возможность подключаться к поддельной, вредоносной сети. Подключив функцию Miracast без проверки подлинности, злоумышленник может захватить нужные материалы для отображения или запустить сетевую связь на устройстве, на котором выполняется соединение. | Несмотря на то, что для присоединения к подложным Surface Hub нет особой защиты, эта уязвимость частично устранена двумя способами. Во-первых, все потенциальные атаки должны физически находиться в зоне действия сети Wi-Fi. Во вторых, эта атака возможна только во время первого подключения. При последующих соединениях используется постоянная группа Wi-Fi Direct, и Windows запоминает это подключение и устанавливает приоритеты для него во время будущего использования на концентраторе. (Примечание. подмена MAC-адреса, канала Wi-Fi и SSID одновременно не рассматривалась в этом отчете и может привести к непредсказуемому поведению Wi-Fi.) В общем случае это слабая проблема, связанная с беспроводными сетями 802,11, у которых нет протоколов WPA2 предприятия, таких как EAP-TLS или EAP-PWD, которые не поддерживаются Wi-Fi Direct. |

##  <a name="surface-hub-hardening-guidelines"></a>Рекомендации по усилению защиты Surface Hub

Surface Hub предназначен для упрощения совместной работы и предоставления пользователям возможности быстро и эффективно начать обсуждение или присоединиться к собраниям. Параметры по умолчанию Wi-Fi Direct для Surface Hub оптимизированы для этого сценария.

Для дополнительной защиты беспроводных интерфейсов пользователи Surface Hub должны включить параметр безопасности WPS-ПИН. Этот параметр отключает режим WPS-PBC и поддерживает проверку подлинности клиента. Он обеспечивает самый высокий уровень защиты, предотвращая несанкционированное подключение к Surface Hub.

Если у вас по-прежнему возникают проблемы с проверкой подлинности и авторизацией для Surface Hub, рекомендуется подключить устройство к отдельной сети. Вы можете использовать Wi-Fi (например, "гость" сети Wi-Fi) или отдельную сеть Ethernet, предпочтительную совершенно другую физическую сеть. Но VLAN также может обеспечить дополнительную безопасность. Разумеется, этот подход может заключать подключения к ресурсам внутренней сети или службам и может требовать дополнительной настройки сети для восстановления доступа.

Также рекомендуется выполнить следующие действия.
- [Установка стандартных обновлений системы](manage-windows-updates-for-surface-hub.md) 
- Обновление параметров Miracast для отключения режима автоматического показа

##  <a name="learn-more"></a>Дополнительные сведения

- [Характеристики Wi-Fi Direct](http://www.wi-fi.org/discover-wi-fi/wi-fi-direct)
- [Характеристика Wireless Protected Setup (WPS)](http://www.wi-fi.org/discover-wi-fi/wi-fi-protected-setup)




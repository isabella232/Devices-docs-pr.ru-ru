---
title: Устранение неполадок с Miracast на Surface Hub
description: Узнайте, как устранить неполадки с Miracast на Surface Hub.
ms.prod: surface-hub
ms.sitesec: library
author: dansimp
ms.author: dansimp
ms.topic: article
ms.date: 06/20/2019
ms.reviewer: ''
manager: laurawi
ms.localizationpriority: medium
ms.openlocfilehash: 96c7c42fe0176f275a8657165d88bf447e57772b
ms.sourcegitcommit: 109d1d7608ac4667564fa5369e8722e569b8ea36
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/27/2020
ms.locfileid: "10836950"
---
# <span data-ttu-id="b6f57-103">Устранение неполадок с Miracast на Surface Hub</span><span class="sxs-lookup"><span data-stu-id="b6f57-103">Troubleshoot Miracast on Surface Hub</span></span>

<span data-ttu-id="b6f57-104">Surface Hub поддерживает беспроводную проекцию по протоколу Miracast.</span><span class="sxs-lookup"><span data-stu-id="b6f57-104">Surface Hub supports wireless projection through the Miracast protocol.</span></span> <span data-ttu-id="b6f57-105">Большинство доступных сегодня беспроводных мониторов и адаптеров используют исходную реализацию Miracast.</span><span class="sxs-lookup"><span data-stu-id="b6f57-105">Most wireless monitors and adapters available today use the original implementation of Miracast.</span></span> <span data-ttu-id="b6f57-106">Surface Hub использует несколько иную версию Miracast, известную как **Miracast Autonomous Group Owner (AGO)**.</span><span class="sxs-lookup"><span data-stu-id="b6f57-106">Surface Hub uses a slightly different version of Miracast known as **Miracast Autonomous Group Owner (AGO)**.</span></span> <span data-ttu-id="b6f57-107">Распространенный шаг по устранению неполадок при сбое проецирования по беспроводной сети на Surface Hub — проверить проецирование на другой беспроводной монитор или адаптер.</span><span class="sxs-lookup"><span data-stu-id="b6f57-107">A common troubleshooting step when projecting wirelessly to Surface Hub fails is to test projecting to another wireless monitor or adapter.</span></span> <span data-ttu-id="b6f57-108">Однако в большинстве случаев эти устройства не используют Miracast AGO и не обрабатывают беспроводную проекцию так, как это делает Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="b6f57-108">However, in most cases, these devices are not using Miracast AGO and do not handle wireless projection the same way that Surface Hub does.</span></span>

<span data-ttu-id="b6f57-109">В традиционном стандарте Miracast проецирующее устройство подключается к точке доступа, созданной монитором с поддержкой Miracast, после чего монитор отправляет сетевой трафик на проецирующее устройство с помощью сетевого канала проецирующего устройства.</span><span class="sxs-lookup"><span data-stu-id="b6f57-109">In traditional Miracast, the projecting device will connect the access point set up by the Miracast-enabled monitor, and then the monitor will send traffic back to the projecting device using the network channel of the projecting device.</span></span> <span data-ttu-id="b6f57-110">В стандарте Miracast AGO подключение состоит из двух этапов:</span><span class="sxs-lookup"><span data-stu-id="b6f57-110">Miracast AGO is a two-step connection process:</span></span>

- <span data-ttu-id="b6f57-111">Первым шагом является первоначальное подключение на частоте 2,4 ГГц.</span><span class="sxs-lookup"><span data-stu-id="b6f57-111">The first step is an initial connection using 2.4GHz.</span></span> 
- <span data-ttu-id="b6f57-112">После этого начального подтверждения проецирующее устройство отправляет трафик на монитор, используя параметры канала беспроводной сети монитора.</span><span class="sxs-lookup"><span data-stu-id="b6f57-112">After that initial handshake, the projecting device sends traffic to the monitor using the wireless channel settings on the monitor.</span></span> <span data-ttu-id="b6f57-113">Если устройство Surface Hub подключено к сети Wi-Fi в качестве точки доступа, оно будет использовать тот же канал, что и сеть, в противном случае будет использоваться канал Miracast, указанный в параметрах.</span><span class="sxs-lookup"><span data-stu-id="b6f57-113">If Surface Hub is connected to a Wi-Fi network, the access point, it will use the same channel as the connected network, otherwise it will use the Miracast channel from Settings.</span></span>

<span data-ttu-id="b6f57-114">Существует два типа проблем с проекцией Miracast на Surface Hub: проблемы [подключения](#connect-issues) и проблемы [производительности](#performance-issues).</span><span class="sxs-lookup"><span data-stu-id="b6f57-114">There are generally two types of issues with Miracast to Surface Hub: [connection](#connect-issues) and [performance](#performance-issues).</span></span> <span data-ttu-id="b6f57-115">В любом случае рекомендуется получить общую картину активности беспроводной сети в местоположении Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="b6f57-115">In either case, it is a good idea to get a general picture of wireless network activity in the Surface Hub's location.</span></span> <span data-ttu-id="b6f57-116">Запуск средства сканирования сети покажет доступные сети и использование каналов в среде.</span><span class="sxs-lookup"><span data-stu-id="b6f57-116">Running a network scanning tool will show you the available networks and channel usage in the environment.</span></span>

## <a name="connect-issues"></a><span data-ttu-id="b6f57-117">Проблемы с подключением</span><span class="sxs-lookup"><span data-stu-id="b6f57-117">Connect issues</span></span>

<span data-ttu-id="b6f57-118">Убедитесь, что в параметрах Surface Hub включены Wi-Fi и Miracast.</span><span class="sxs-lookup"><span data-stu-id="b6f57-118">Ensure both Wi-Fi and Miracast are both enabled in Settings on Surface Hub.</span></span> 

<span data-ttu-id="b6f57-119">При выполнении сканирования сети вы должны видеть Surface Hub Miracast в качестве точки доступа.</span><span class="sxs-lookup"><span data-stu-id="b6f57-119">If you ran a network scan, you should see Surface Hub Miracast listed as an access point.</span></span> <span data-ttu-id="b6f57-120">Если сеть Miracast Surface Hub отображается при сканировании, но вы не видите ее как доступное устройство, вы можете попытаться настроить канал Miracast, используемый Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="b6f57-120">If Surface Hub's Miracast network shows up on the scan, but you cannot not see it as an available device, you can try to adjust the Miracast channel used by Surface Hub.</span></span> 

<span data-ttu-id="b6f57-121">При подключении устройства Surface Hub к сети Wi-Fi оно будет использовать те же параметры канала, что и точка доступа Wi-Fi для своей точки доступа Miracast.</span><span class="sxs-lookup"><span data-stu-id="b6f57-121">When Surface Hub is connected to a Wi-Fi network it will use the same channel settings as the Wi-Fi access point for its Miracast access point.</span></span> <span data-ttu-id="b6f57-122">Для устранения неполадок отключите Surface Hub от всех сетей Wi-Fi (но оставьте включенным соединение Wi-Fi), чтобы управлять каналом, используемым для Miracast.</span><span class="sxs-lookup"><span data-stu-id="b6f57-122">For troubleshooting purposes, disconnect Surface Hub from any Wi-Fi networks (but keep Wi-Fi enabled), so you can control the channel used for Miracast.</span></span> <span data-ttu-id="b6f57-123">Канал Miracast можно вручную выбрать в параметрах.</span><span class="sxs-lookup"><span data-stu-id="b6f57-123">You can manually select the Miracast channel in Settings.</span></span> <span data-ttu-id="b6f57-124">После каждого изменения необходимо перезапустить Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="b6f57-124">You will need to restart Surface Hub after each change.</span></span> <span data-ttu-id="b6f57-125">В целом рекомендуется использовать каналы, которые при проверке не показывают чрезмерного использования.</span><span class="sxs-lookup"><span data-stu-id="b6f57-125">Generally speaking, you will want to use channels that do not show heavy utilization from the network scan.</span></span>

<span data-ttu-id="b6f57-126">Также возможно, что проблема подключения связана с проблемой на подключающемся устройстве.</span><span class="sxs-lookup"><span data-stu-id="b6f57-126">It is also possible that the connect issue can be the result of a problem on the connecting device.</span></span> <span data-ttu-id="b6f57-127">Если проецирующее устройство работает под управлением Windows, для полной поддержки Miracast необходима система Windows 8.1 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="b6f57-127">If the projecting device is running Windows, it should be Windows 8.1 or newer for full Miracast support.</span></span> <span data-ttu-id="b6f57-128">При устранении неполадок не забывайте отключать устройство проецирования от всех сетей Wi-Fi.</span><span class="sxs-lookup"><span data-stu-id="b6f57-128">Again, for troubleshooting, disconnect the projecting device from any Wi-Fi networks.</span></span> <span data-ttu-id="b6f57-129">Это исключит переключение каналов между каналом точки доступа и каналом Miracast, заданным на Surface Hub.</span><span class="sxs-lookup"><span data-stu-id="b6f57-129">This will eliminate any channel switching between the access point channel and the Miracast channel set on Surface Hub.</span></span> <span data-ttu-id="b6f57-130">Кроме того некоторые параметры групповой политики и брандмауэра могут быть привязаны к сети Wi-Fi.</span><span class="sxs-lookup"><span data-stu-id="b6f57-130">Also, some Group Policy and firewall settings may be tied to a Wi-Fi network.</span></span>

### <a name="check-drivers"></a><span data-ttu-id="b6f57-131">Проверьте драйверы</span><span class="sxs-lookup"><span data-stu-id="b6f57-131">Check drivers</span></span>

<span data-ttu-id="b6f57-132">Рекомендуется убедиться в том, что на проецирующем устройстве установлены последние драйверы и обновления.</span><span class="sxs-lookup"><span data-stu-id="b6f57-132">It is also a good idea to ensure the latest drivers and updates are installed on the projecting device.</span></span> <span data-ttu-id="b6f57-133">В диспетчере устройств откройте адаптер Wi-Fi и видеоадаптер и проверьте наличие обновленной версии драйверов.</span><span class="sxs-lookup"><span data-stu-id="b6f57-133">In Device Manager, open the Wi-Fi adapter and video adapter and check for an updated driver version.</span></span> <span data-ttu-id="b6f57-134">[Исправление 3120232](https://support.microsoft.com/help/3120232/poor-wireless-performance-on-5-ghz-connections-on-surface-pro-3-and-surface-3) настоятельно рекомендуется для Surface Pro 3 и Surface Pro 4, если используется более старый драйвер Wi-Fi.</span><span class="sxs-lookup"><span data-stu-id="b6f57-134">[Hotfix 3120232](https://support.microsoft.com/help/3120232/poor-wireless-performance-on-5-ghz-connections-on-surface-pro-3-and-surface-3) is highly recommended for Surface Pro 3 and Surface Pro 4 if they are on an older Wi-Fi driver.</span></span> 

### <a name="check-for-miracast-support"></a><span data-ttu-id="b6f57-135">Проверьте поддержку Miracast</span><span class="sxs-lookup"><span data-stu-id="b6f57-135">Check for Miracast support</span></span>

<span data-ttu-id="b6f57-136">Убедитесь, что устройство поддерживает Miracast.</span><span class="sxs-lookup"><span data-stu-id="b6f57-136">Next, ensure Miracast is supported on the device.</span></span> 

1. <span data-ttu-id="b6f57-137">Нажмите клавиши Windows + R и введите `dxdiag`.</span><span class="sxs-lookup"><span data-stu-id="b6f57-137">Press Windows Key + R and type `dxdiag`.</span></span> 
2. <span data-ttu-id="b6f57-138">Нажмите кнопку "сохранить все сведения".</span><span class="sxs-lookup"><span data-stu-id="b6f57-138">Click "Save all information".</span></span> 
3. <span data-ttu-id="b6f57-139">Откройте сохраненный файл dxdiag.txt и найдите в нем **Miracast**.</span><span class="sxs-lookup"><span data-stu-id="b6f57-139">Open the saved dxdiag.txt and find **Miracast**.</span></span> <span data-ttu-id="b6f57-140">Должно быть указано **Доступно с помощью HDCP**.</span><span class="sxs-lookup"><span data-stu-id="b6f57-140">It should say **Available, with HDCP**.</span></span> 
    
### <a name="check-firewall"></a><span data-ttu-id="b6f57-141">Проверьте брандмауэр</span><span class="sxs-lookup"><span data-stu-id="b6f57-141">Check firewall</span></span>
    
<span data-ttu-id="b6f57-142">Брандмауэр Windows может блокировать трафик Miracast.</span><span class="sxs-lookup"><span data-stu-id="b6f57-142">The Windows firewall can block Miracast traffic.</span></span> <span data-ttu-id="b6f57-143">Простой способ это протестировать — отключить брандмауэр и проверить проекцию.</span><span class="sxs-lookup"><span data-stu-id="b6f57-143">The simplest test is to disable the firewall and test projection.</span></span> <span data-ttu-id="b6f57-144">Если Miracast работает с отключенным брандмауэром, добавьте исключение для</span><span class="sxs-lookup"><span data-stu-id="b6f57-144">If Miracast works with the firewall disabled, add an exception for</span></span>

    C:\Windows\System32\WUDFHost.exe
    Allow In/Out connections for TCP and UDP, Ports: All.

### <a name="check-group-policy-settings"></a><span data-ttu-id="b6f57-145">Проверьте параметры групповой политики</span><span class="sxs-lookup"><span data-stu-id="b6f57-145">Check Group Policy settings</span></span>

<span data-ttu-id="b6f57-146">На устройствах, присоединенных к домену, групповые политики могут также блокировать Miracast.</span><span class="sxs-lookup"><span data-stu-id="b6f57-146">On domain-joined devices, Group Policy can also block Miracast.</span></span> 

1. <span data-ttu-id="b6f57-147">Нажмите клавиши Windows + R и введите `rsop.msc` для выполнения оснастки **Результирующая политика**.</span><span class="sxs-lookup"><span data-stu-id="b6f57-147">Use the Windows Key + R and type `rsop.msc` to execute the **Resultant Set of Policy** snap-in.</span></span> <span data-ttu-id="b6f57-148">Будут показаны текущие политики, примененные на компьютере.</span><span class="sxs-lookup"><span data-stu-id="b6f57-148">This will show the current policies applied to the PC.</span></span> 
2. <span data-ttu-id="b6f57-149">Проверьте раздел **Конфигурация компьютера** > **Параметры Windows** > **Параметры безопасности** > **Политики беспроводной сети (IEEE 802.11)**.</span><span class="sxs-lookup"><span data-stu-id="b6f57-149">Review **Computer Configuration** > **Windows Settings** > **Security Settings** > **Wireless Network (IEEE 802.11) Policies**.</span></span> <span data-ttu-id="b6f57-150">В нем должен быть параметр для политики беспроводной сети.</span><span class="sxs-lookup"><span data-stu-id="b6f57-150">There should be a setting for wireless policies.</span></span> 
3. <span data-ttu-id="b6f57-151">Дважды щелкните параметр политики беспроводной сети. Появится диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="b6f57-151">Double click the setting for wireless policies and a dialog box will appear.</span></span> 
4. <span data-ttu-id="b6f57-152">Откройте вкладку **Сетевые разрешения** и выберите **Разрешить любому пользователю создавать все профили пользователей**.</span><span class="sxs-lookup"><span data-stu-id="b6f57-152">Open the **Network Permissions** tab and select **Allow everyone to create all user profiles**.</span></span>

### <a name="check-event-logs"></a><span data-ttu-id="b6f57-153">Проверьте журналы событий</span><span class="sxs-lookup"><span data-stu-id="b6f57-153">Check event logs</span></span>

<span data-ttu-id="b6f57-154">Наконец можно проверить журналы событий.</span><span class="sxs-lookup"><span data-stu-id="b6f57-154">The last place to check is in the Event logs.</span></span> <span data-ttu-id="b6f57-155">События Miracast записываются в журнал **Wlanautoconfig**.</span><span class="sxs-lookup"><span data-stu-id="b6f57-155">Miracast events will be logged to **Wlanautoconfig**.</span></span> <span data-ttu-id="b6f57-156">Это справедливо как для Surface Hub, так и проецирующего устройства.</span><span class="sxs-lookup"><span data-stu-id="b6f57-156">This is true on both Surface Hub and the projecting device.</span></span> <span data-ttu-id="b6f57-157">Если вы экспортируете журналы Surface Hub, вы можете просмотреть Wlanautoconfig Surface Hub в папке **WindowsEventLog** .</span><span class="sxs-lookup"><span data-stu-id="b6f57-157">If you export Surface Hub logs, you can view Surface Hub's Wlanautoconfig in the **WindowsEventLog** folder.</span></span> <span data-ttu-id="b6f57-158">Ошибки в журнале событий могут дать некоторые дополнительные сведения о том, с чем связан сбой подключения.</span><span class="sxs-lookup"><span data-stu-id="b6f57-158">Errors in the event log can provide some additional details on where the connection fails.</span></span>

## <a name="performance-issues"></a><span data-ttu-id="b6f57-159">Проблемы производительности</span><span class="sxs-lookup"><span data-stu-id="b6f57-159">Performance issues</span></span>

<span data-ttu-id="b6f57-160">После подключения беспроводной проекции могут наблюдаться проблемы производительности в виде задержек.</span><span class="sxs-lookup"><span data-stu-id="b6f57-160">After wireless projection is connected, it is possible to see performance issues causing latency.</span></span> <span data-ttu-id="b6f57-161">Обычно это вызвано общей насыщенностью канала или ситуацией, вызывающей переключение каналов.</span><span class="sxs-lookup"><span data-stu-id="b6f57-161">This is generally a result of overall channel saturation or a situation that causes channel switching.</span></span> 

<span data-ttu-id="b6f57-162">При насыщенности канала используйте проверку сети и постарайтесь выбрать канал с меньшим количеством трафика.</span><span class="sxs-lookup"><span data-stu-id="b6f57-162">For channel saturation, refer to the network scan and try to use channels with less traffic.</span></span>

<span data-ttu-id="b6f57-163">Переключение каналов происходит, когда адаптеру Wi-Fi необходимо отправить трафик по нескольким каналам.</span><span class="sxs-lookup"><span data-stu-id="b6f57-163">Channel switching is caused when the Wi-Fi adapter needs to send traffic to multiple channels.</span></span> <span data-ttu-id="b6f57-164">Некоторые каналы поддерживают динамическое выделение частот (DFS).</span><span class="sxs-lookup"><span data-stu-id="b6f57-164">Certain channels support Dynamic Frequency Selection (DFS).</span></span> <span data-ttu-id="b6f57-165">DFS используется на каналах с 49 по 148.</span><span class="sxs-lookup"><span data-stu-id="b6f57-165">DFS is used on channels 49 through 148.</span></span> <span data-ttu-id="b6f57-166">Некоторые драйверы Wi-Fi демонстрируют пониженную производительность при подключении к каналам DFS.</span><span class="sxs-lookup"><span data-stu-id="b6f57-166">Some Wi-Fi drivers will show poor performance when connected to a DFS channel.</span></span> <span data-ttu-id="b6f57-167">Если вы наблюдаете снижение производительности Miracast при подключении к каналу DFS, попробуйте использовать проекцию на другом канале.</span><span class="sxs-lookup"><span data-stu-id="b6f57-167">If you are seeing poor Miracast performance while connected to a DFS channel, try the projection on a non-DFS channel.</span></span> <span data-ttu-id="b6f57-168">Следует использовать каналы без DFS как для Surface Hub, так и для проецирующего устройства.</span><span class="sxs-lookup"><span data-stu-id="b6f57-168">Both Surface Hub and projecting device should use non-DFS channels.</span></span>

<span data-ttu-id="b6f57-169">Если Surface Hub и проецирующее устройство подключены к сети Wi-Fi, но используют разные точки доступа с разными каналами, при подключении Miracast будет происходить переключение каналов Surface Hub и проецирующего устройства.</span><span class="sxs-lookup"><span data-stu-id="b6f57-169">If Surface Hub and the projecting device are both connected to Wi-Fi but using different access points with different channels, this will force Surface Hub and the projecting device to channel switch while Miracast is connected.</span></span> <span data-ttu-id="b6f57-170">Это приведет к снижению качества беспроводной проекции и низкой производительности сети Wi-Fi.</span><span class="sxs-lookup"><span data-stu-id="b6f57-170">This will result in both poor wireless project and poor network performance over Wi-Fi.</span></span> <span data-ttu-id="b6f57-171">Переключение каналов влияет на производительность всего трафика беспроводной сети, а не только беспроводной проекции.</span><span class="sxs-lookup"><span data-stu-id="b6f57-171">The channel switching will affect the performance of all wireless traffic, not just wireless projection.</span></span> 

<span data-ttu-id="b6f57-172">Переключение каналов также возникает, если проецирующее устройство подключено к сети Wi-Fi по каналу, который отличается от канала, используемого Surface Hub для Miracast.</span><span class="sxs-lookup"><span data-stu-id="b6f57-172">Channel switching will also occur if the projecting device is connected to an Wi-Fi network using a different channel than the channel that Surface Hub uses for Miracast.</span></span> <span data-ttu-id="b6f57-173">Таким образом, лучше всего настроить канал Miracast Surface Hub в том же канале, что и наиболее часто используемую точку доступа.</span><span class="sxs-lookup"><span data-stu-id="b6f57-173">So, a best practice is to set Surface Hub's Miracast channel to the same channel as the most commonly used access point.</span></span> 

<span data-ttu-id="b6f57-174">Если в среде существует несколько сетей Wi-Fi или точек доступа, переключение каналов неизбежно.</span><span class="sxs-lookup"><span data-stu-id="b6f57-174">If there are multiple Wi-Fi networks or access points in the environment, some channel switching is unavoidable.</span></span> <span data-ttu-id="b6f57-175">В решении проблемы может помочь обновление всех драйверов Wi-Fi.</span><span class="sxs-lookup"><span data-stu-id="b6f57-175">This is best addressed by ensuring all Wi-Fi drivers are up to date.</span></span>

## <a name="contact-support"></a><span data-ttu-id="b6f57-176">Обратиться в службу поддержки</span><span class="sxs-lookup"><span data-stu-id="b6f57-176">Contact Support</span></span>

<span data-ttu-id="b6f57-177">Если у вас возникли вопросы или вам нужна помощь, вы можете [создать запрос в службу поддержки](https://support.microsoft.com/supportforbusiness/productselection).</span><span class="sxs-lookup"><span data-stu-id="b6f57-177">If you have questions or need help, you can [create a support request](https://support.microsoft.com/supportforbusiness/productselection).</span></span>

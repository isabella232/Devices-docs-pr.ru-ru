---
title: Обновление прошивки Microsoft Surface Dock 1
description: В этой статье рассказывается, как использовать microsoft Surface Dock Firmware Update для установки и управления прошивками на исходной surface Dock 1. При установке на устройстве Surface он будет обновлять устройства Surface Dock 1, присоединенные к устройству Surface.
ms.localizationpriority: medium
ms.prod: w10
ms.mktglfcycl: manage
ms.sitesec: library
author: greg-lindsay
ms.author: greglin
ms.topic: article
ms.reviewer: scottmca
manager: laurawi
ms.audience: itpro
ms.date: 2/08/2021
ms.openlocfilehash: 544aa8ab7cb9bb443f368bfbbcecb1fa256d32c5
ms.sourcegitcommit: ad08299d14810db746514f01d977a81fc5a3961e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/29/2021
ms.locfileid: "11708760"
---
# <a name="surface-dock-1-firmware-update"></a>Обновление встроенного ПО для Surface Dock 1

В этой статье рассказывается, как использовать Microsoft Surface Dock 1 Firmware Update для установки и управления прошивками на исходной surface Dock 1. При установке на устройстве Surface он будет обновлять устройства Surface Dock 1, присоединенные к устройству Surface.

> [!NOTE]
> Эта статья не применяется к [Surface Dock 2,](surface-dock-whats-new.md)которая получает обновления автоматически Windows обновления или с помощью Microsoft Endpoint Configuration Manager или других средств развертывания MSI.

Этот инструмент выменивает более ранний инструмент обновления microsoft Surface Dock Updater, ранее доступный для скачивания в рамках Surface Tools для ИТ. Более ранний инструмент был Surface_Dock_Updater_vx.xx.xxx.x.msi (где x указывает номер версии) и больше не доступен для скачивания и не должен использоваться.

> [!IMPORTANT]
> В этой статье содержатся технические инструкции для ИТ-администраторов. Если вы домашний пользователь, обратитесь к веб-сайту Поддержки Microsoft Как обновить прошивку [Surface Dock.](https://support.microsoft.com/help/4023478/surface-update-your-surface-dock)   Инструкции на сайте поддержки такие же, как и общие шаги по установке ниже, но в этой статье приведены дополнительные сведения для мониторинга, проверки и развертывания обновления на нескольких устройствах в сети.

## <a name="install-surface-dock-1-firmware-update"></a>Установка обновления прошивки Surface Dock 1

В этом разделе описывается, как вручную установить обновление прошивки на Surface Dock 1.

> [!TIP]
> Корпорация Майкрософт периодически выпускает новые версии обновления прошивки Surface Dock 1. Файл MSI не обновляется самостоятельно. Если вы развернули MSI для устройств Surface и выпущена новая версия прошивки, вам потребуется развернуть новую версию.

1. Перейдите [в Surface Tools для ИТ](https://www.microsoft.com/download/details.aspx?id=46703) и загрузите и установите .msi файл с именем **Surface_Dock_FwUpdate..**, а затем соответствующая версия. Если вы работаете Surface Pro X, скачайте **сборку .arm64.** Для всех остальных устройств используйте **сборку .amd64.**  

    - Для обновления требуется устройство Surface, Windows 10 версии 1803 или более поздней версии.
    - Установка MSI-файла может побудить вас перезапустить Surface. Однако для выполнения обновления не требуется перезапуск.

2. Отсоедините устройство Surface от дока Surface, подождите ~5 секунд и переподключите. Обновление прошивки Surface Dock 1 будет обновлять док-станцию в фоновом режиме. Процесс может занять несколько минут и будет продолжаться, даже если прерывается.

## <a name="monitor-the-surface-dock-1-firmware-update"></a>Мониторинг обновления прошивки Surface Dock 1

Этот раздел необязателен и содержит обзор того, как отслеживать установку обновления прошивки.

Чтобы отслеживать обновление:

1. Откройте viewer события, **просмотрите**Windows журналы > приложения , **** а затем в соответствии с действиями в правой области нажмите фильтр текущего **журнала,** введите **SurfaceDockFwUpdate** рядом с источниками **событий,** а затем нажмите **кнопку ОК**.

2. Введите следующую команду в командной подсказке повышенного уровня:

    ```console
    Reg query "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\WUDF\Services\SurfaceDockFwUpdate\Parameters"
    ```

3. Установите обновление, как описано в [следующем разделе](#install-surface-dock-1-firmware-update) этой статьи.

4. Событие 2007 со следующим текстом указывает на успешное обновление: обновление микропрограммы **завершено. hr=0 DriverTelementry EventCode = 2007**.

   Если обновление не будет успешным, то ID события 2007 будет отображаться как событие **ошибки,** а не **Информация**. Кроме того, версия, зарегистрированная в Windows реестра, не будет текущей.

5. После завершения обновления обновленные значения DWORD будут отображаться в реестре Windows, соответствующем текущей версии средства. Подробные [сведения см. в](#versions-reference) справочном разделе Versions в этой статье. Например:

    - Component10CurrentFwVersion 0x04ac3970 (78395760)
    - Component20CurrentFwVersion 0x04915a70 (76634736)

>[!TIP]
>Если в тексте событий вы видите "Описание для ID события xxxx из источника SurfaceDockFwUpdate не удается найти", это ожидается и может быть проигнорировано.

Также см. следующие разделы в этой статье:

- [Проверка завершения обновления прошивки](#how-to-verify-completion-of-the-firmware-update)
  - [Ведение журнала событий](#event-logging)
  - [Советы по устранению неполадок](#troubleshooting-tips)
  - [Справка по версиям](#versions-reference)

## <a name="network-deployment"></a>Развертывание сети

Вы можете использовать Windows(Msiexec.exe) для развертывания обновления прошивки Surface Dock 1 на нескольких устройствах в сети. При использовании Microsoft Endpoint Configuration Manager или другого средства развертывания введите следующий синтаксис для обеспечения бесшумной установки:

- **Msiexec.exe /i \<path to msi file\> /quiet /norestart**

Например:

```console
msiexec /i "\\share\folder\Surface_Dock_FwUpdate_1.42.139_Win10_17134_19.084.31680_0.msi" /quiet /norestart
```

> [!NOTE]
> Файл журнала не создается по умолчанию. Чтобы создать файл журнала, необходимо приложение "/l*v [path]". Например: Msiexec.exe /i \<path to msi file\> /l*v %windir%\logs\ SurfaceDockFWI.log"

Дополнительные сведения можно получить в [документации по вариантам командной строки.](/windows/win32/msi/command-line-options)

> [!IMPORTANT]
> Если вы хотите сохранить обновление док-станции Surface с помощью любого другого метода, обратитесь к [обновлению док-станции Surface для](https://support.microsoft.com/help/4023478/surface-update-your-surface-dock) получения подробных сведений.

## <a name="intune-deployment"></a>Развертывание Intune

Вы можете использовать Intune для распространения обновления прошивки Surface Dock 1 на устройствах. Сначала необходимо преобразовать MSI-файл в формат .intunewin, как описано в следующей документации: [Intune Standalone — управление приложениями Win32.](/intune/apps/apps-win32-app-management)

Используйте следующую команду:

- **msiexec /i \<path to msi file\> /quiet /q**

## <a name="how-to-verify-completion-of-the-firmware-update"></a>Проверка завершения обновления прошивки

Прошивка surface dock состоит из двух компонентов:

- **Component10:** Микропрограмма блока контроллера (MCU)
- **Component20:** Отображение прошивки порта (DP).

Успешное завершение обновления прошивки Surface Dock 1 приводит к новым ключевым значениям реестра для этих компонентов прошивки.

### <a name="to-verify-updates"></a>Проверка обновлений

1. Откройте Regedit и перейдите к следующему пути реестра:

    - **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\WUDF\Services\SurfaceDockFwUpdate\Parameters**

2. Найди ключи реестра: **Component10CurrentFwVersion и Component20CurrentFwVersion,** которые ссылаются на прошивку, которая в настоящее время находится на устройстве.

   ![Процесс установки обновления прошивки Surface Dock 1](images/regeditDock.png)

3. Проверка ключевых значений нового реестра соответствует обновленным ключевым значениям реестра, указанным в ссылке Версии в конце этого документа. Если значения совпадают, прошивка была успешно обновлена.

4. Если не удается проверить, просмотрите советы по журналу событий и устранению неполадок в следующем разделе.

## <a name="event-logging"></a>Ведение журнала событий

### <a name="table-1-log-files-for-surface-dock-1-firmware-update"></a>Таблица 1: Файлы журнала для обновления прошивки Surface Dock 1

| Log                              | Местонахождение                               | Заметки                                                                                                                                                                                                         |
| -------------------------------- | --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Журнал обновления прошивки Surface Dock 1 | Необходимо укаварить путь (см. примечание) | Более ранние версии этого средства писали события в журналы приложений и служб\Microsoft Surface Dock Updater.                                                                                                  |
| Windows Журнал установки устройств       | %windir%\inf\setupapi.dev.log           | Дополнительные сведения об использовании журнала установки устройств обратитесь к [документации по журналу SetupAPI.](/windows-hardware/drivers/install/setupapi-logging--windows-vista-and-later-) |

### <a name="table-2-event-log-ids-for-surface-dock-1-firmware-update"></a>Таблица2. ID журнала событий для обновления прошивки Surface Dock 1

События регистрируются в журнале событий приложения.  Примечание. Более ранние версии этого средства писали события в журналы приложений и служб\Microsoft Surface Dock Updater.

| Идентификатор события | Тип события                                                           |
| -------- | -------------------------------------------------------------------- |
| 2001     | Началось обновление прошивки док-станции.                                    |
| 2002     | Обновление прошивки док-станции пропущено, так как док-станция, как известно, обновлена. |
| 2003     | Обновление прошивки док-станции не удалось получить версию прошивки.                 |
| 2004     | Запрос версии прошивки.                                       |
| 2005     | Приступить к обновлению прошивки док-станции не удалось.                                |
| 2006     | Не удалось отправить пары предложений и полезной нагрузки.                                  |
| 2007     | Обновление прошивки завершено.                                            |
| 2008     | Телеметрия стыковки BEGIN.                                                |
| 2011     | Телеметрия док-станции END.                                                  |

## <a name="troubleshooting-tips"></a>Советы по устранению неполадок

- Полностью отключите питание док-станции Surface от питания переменного тока, чтобы сбросить док-станцию Surface.
- Отключение всех периферийных устройств, за исключением дока Surface.
- Удалить любое текущее обновление прошивки Surface Dock 1 и установить последнюю версию.
- Убедитесь, что док-станция Surface отключена, а затем у вас будет достаточно времени для завершения обновления в качестве монитора с помощью светодиода в порту Ethernet дока. Подождите, пока светодиод перестает мигать, прежде чем отключать Surface Dock от власти.
- Подключение surface Dock на другое устройство, чтобы узнать, сможет ли он обновить док-станцию.

## <a name="versions-reference"></a>Справка по версиям

>[!NOTE]
>Файл установки выпущен в следующем формате именования: **Surface_Dock_FwUpdate_X.XX.XXX_Win10_XXXXX_XX.XXX.XXXXX_X.MSI** (например, Surface_Dock_FwUpdate_1.42.139_Win10_17134_19.084.31680_0.msi) и устанавливается по умолчанию в C:\Program Files\SurfaceUpdate.

### <a name="version-1531390"></a>Версия 1.53.139.0

#### <a name="release-date-august-4-2020"></a>Дата выпуска: 4 августа 2020 г.

Эта версия обновления прошивки Surface Dock 1 включает исправление ошибок и поддержку:

- Обновление surface Dock 1 с Surface Pro X.

#### <a name="registry-key-values"></a>Ключевые значения реестра

Значения реестра, которые указывают состояние обновлений прошивки, не изменяются по сравнению с предыдущей версией этого средства:

- Component10CurrentFwVersion обновлен до **4ac3970**.
- Component20CurrentFwVersion обновлен до **4a1d570**.

### <a name="version-142139"></a>Версия 1.42.139

#### <a name="release-date-september-18-2019"></a>Дата выпуска: 18 сентября 2019 г.

Эта версия, содержалась в Surface_Dock_FwUpdate_1.42.139_Win10_17134_19.084.31680_0.MSI, обновляет прошивку в фоновом режиме.

#### <a name="updated-registry-key-values"></a>Обновленные ключевые значения реестра

- Component10CurrentFwVersion обновлен до **4ac3970**.
- Component20CurrentFwVersion обновлен до **4a1d570**.

Он добавляет поддержку Surface Pro 7 и Surface Laptop 3.

## <a name="legacy-versions"></a>Устаревшие версии

### <a name="version-2231390"></a>Версия 2.23.139.0

#### <a name="release-date-10-october-2018"></a>Дата выпуска: 10 октября 2018 г.

В этой версии Surface Dock Updater добавлена поддержка следующих возможностей:

- Добавление поддержки Surface Pro 6
- Добавление поддержки Surface Laptop 2

### <a name="version-2221390"></a>Версия 2.22.139.0

#### <a name="release-date-26-july-2018"></a>Дата выпуска: 26 июля 2018 г.

В этой версии Surface Dock Updater добавлена поддержка следующих возможностей:

- Повышение надежности обновления
- Добавление поддержки Surface Go

### <a name="version-2121360"></a>Версия 2.12.136.0

#### <a name="release-date-29-january-2018"></a>Дата выпуска: 29 января 2018 г.

В этой версии Surface Dock Updater добавлена поддержка следующих устройств:

- обновление встроенного ПО основного чипсета док-станции Surface;

- обновление встроенного ПО порта дисплея док-станции Surface

- Повышенная стабильность внешних мониторов при использовании с Surface Book или Surface Book 2

Кроме того, установка этой версии средства обновления Surface Dock на устройствах Surface Book, включает следующее:

- обновление встроенного ПО Surface Book Base;

- поддержка обновления встроенного ПО док-станции Surface с улучшениями, предназначенными для устройств Surface Book.

### <a name="version-291360"></a>Версия 2.9.136.0

#### <a name="release-date-november-3-2017"></a>Дата выпуска: 3 ноября 2017 г.

В этой версии Surface Dock Updater добавлена поддержка следующих устройств:

- обновление встроенного ПО порта дисплея док-станции Surface

- Устраняет проблему передачи звука через пассивные адаптеры порта дисплея

### <a name="version-21150"></a>Версия 2.1.15.0

#### <a name="release-date-june-19-2017"></a>Дата выпуска: 19 июня 2017 г.

В этой версии Surface Dock Updater добавлена поддержка следующих возможностей:

- ноутбук Surface

- Surface Pro

### <a name="version-2160"></a>Версия 2.1.6.0

#### <a name="release-date-april-7-2017"></a>Дата выпуска: 7 апреля 2017 г.

В этой версии Surface Dock Updater добавлена поддержка следующих возможностей:

- обновление встроенного ПО порта дисплея док-станции Surface;

- требуется Windows 10.

### <a name="version-20220"></a>Версия 2.0.22.0

#### <a name="release-date-october-21-2016"></a>Дата выпуска: 21 октября 2016 г.

В этой версии Surface Dock Updater добавлена поддержка следующих возможностей:

- обновление для встроенного ПО USB док-станции Surface;

- повышенная надежность порта Ethernet, звукового и USB-портов.

### <a name="version-1080"></a>Версия 1.0.8.0

#### <a name="release-date-april-26-2016"></a>Дата выпуска: 26 апреля 2016 г.

В этой версии Surface Dock Updater добавлена поддержка следующих возможностей:

- обновление встроенного ПО основного чипсета док-станции Surface;

- обновление встроенного ПО порта дисплея док-станции Surface
